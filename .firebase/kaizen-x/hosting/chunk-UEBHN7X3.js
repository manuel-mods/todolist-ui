import{$ as Yo,A as z,Aa as $n,Ac as Ua,B as $t,Ba as Vn,C as Go,Ca as Ge,D as gi,Da as D,Ea as Ii,Eb as Ta,Fa as na,Ga as _i,Gb as ba,Ia as ra,J as oe,Ja as wi,Jc as Wn,Ka as ia,Kc as xa,La as Ke,Lb as Ra,Ma as Ti,Mc as Oi,N as X,Na as sa,Nb as Sa,Nc as qn,O as Ie,Oa as oa,Ob as Aa,Oc as Fa,Pa as aa,Q as mi,Qa as zt,R as ft,Ra as gt,Sa as mt,Ta as ca,Ua as ua,V as pt,Va as la,W as Ce,Wa as da,X as vi,Xa as ha,Y as Ko,Ya as fa,Z as Jo,Za as pa,_a as Je,a as g,aa as F,ab as ga,b as L,ba as Xo,c as qe,ca as N,d as l,db as Ht,e as Vo,ea as R,f as Bo,fb as ma,fc as ki,g as me,ga as I,gb as bi,gc as Ca,h as li,ha as Vt,hb as Q,hc as ka,i as di,ia as Zo,ib as va,j as ve,ja as S,jb as ya,jc as Pi,k as B,ka as yi,kb as Ea,kc as zn,l as zo,la as _,lb as Bn,lc as Pa,m as Ho,ma as p,mb as Ia,mc as Hn,na as ke,nb as Wt,o as ye,oa as _e,ob as qt,p as hi,pa as Qo,q as fi,qa as ae,r as pi,ra as j,rb as Ri,rc as Oa,s as O,sa as ea,sb as _a,sc as $,t as v,ta as Bt,tb as Si,tc as Gt,u as Ee,ub as Ai,uc as Da,v as Wo,vb as Ci,vc as Na,w as qo,wa as Ei,wb as wa,wc as Ma,xa as ta,xc as Kt,y as b,ya as Z,yc as La,z as Fn,za as jn,zc as vt}from"./chunk-HT5E4KE5.js";var Jn=new S(""),Li=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(_(Jn),_(D))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Jt=class{_doc;constructor(e){this._doc=e}manager},Gn="ng-app-id";function ja(n){for(let e of n)e.remove()}function $a(n,e){let t=e.createElement("style");return t.textContent=n,t}function ql(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Gn}="${e}"],link[${Gn}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Gn),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Ni(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Ui=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Oi(s),ql(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,$a);r?.forEach(i=>this.addUsage(i,this.external,Ni))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(ja(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ja(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,$a(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Ni(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Gn,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(_($),_(wi),_(Ti,8),_(Ke))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Di={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xi=/%COMP%/g;var Ba="%COMP%",Gl=`_nghost-${Ba}`,Kl=`_ngcontent-${Ba}`,Jl=!0,Yl=new S("",{providedIn:"root",factory:()=>Jl});function Xl(n){return Kl.replace(xi,n)}function Zl(n){return Gl.replace(xi,n)}function za(n,e){return e.map(t=>t.replace(xi,n))}var Fi=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=Oi(a),this.defaultRenderer=new Yt(t,o,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zt.ShadowDom&&(r=L(g({},r),{encapsulation:zt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Kn?i.applyToHost(t):i instanceof Xt&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case zt.Emulated:s=new Kn(c,u,r,this.appId,d,o,a,f,h);break;case zt.ShadowDom:return new Mi(c,u,t,r,o,a,this.nonce,f,h);default:s=new Xt(c,u,r,d,o,a,f,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(_(Li),_(Ui),_(wi),_(Yl),_($),_(Ke),_(D),_(Ti),_(sa,8))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Yt=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Di[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Va(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Va(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new R(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Di[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Di[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ht.DashCase|Ht.Important)?e.style.setProperty(t,r,i&Ht.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ht.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Gt().getGlobalEventTarget(this.doc,e),!e))throw new R(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Va(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Mi=class extends Yt{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,c,u){super(e,s,o,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=za(i.id,d);for(let h of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let h of f){let m=Ni(h,s);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xt=class extends Yt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c,u){super(e,s,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?za(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kn=class extends Xt{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,u){let d=i+"-"+r.id;super(e,t,r,s,o,a,c,u,d),this.contentAttr=Xl(d),this.hostAttr=Zl(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Yn=class n extends Na{supportsDOMEvents=!0;static makeCurrent(){Da(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ed();return t==null?null:td(t)}resetBaseElement(){Zt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wn(document.cookie,e)}},Zt=null;function ed(){return Zt=Zt||document.head.querySelector("base"),Zt?Zt.getAttribute("href"):null}function td(n){return new URL(n,document.baseURI).pathname}var nd=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Wa=(()=>{class n extends Jt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(_($))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Ha=["alt","control","meta","shift"],rd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},id={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},qa=(()=>{class n extends Jt{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gt().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Ha.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=rd[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Ha.forEach(o=>{if(o!==i){let a=id[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(_($))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function sd(n,e){return Pa(g({rootComponent:n},od(e)))}function od(n){return{appProviders:[...dd,...n?.providers??[]],platformProviders:ld}}function ad(){Yn.makeCurrent()}function cd(){return new Ii}function ud(){return ra(document),document}var ld=[{provide:Ke,useValue:xa},{provide:ia,useValue:ad,multi:!0},{provide:$,useFactory:ud}];var dd=[{provide:Qo,useValue:"root"},{provide:Ii,useFactory:cd},{provide:Jn,useClass:Wa,multi:!0,deps:[$]},{provide:Jn,useClass:qa,multi:!0,deps:[$]},Fi,Ui,Li,{provide:ma,useExisting:Fi},{provide:qn,useClass:nd},[]];var Et=class{},Qt=class{},Pe=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Zn=class{encodeKey(e){return Ga(e)}encodeValue(e){return Ga(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function hd(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var fd=/%(\d[a-f0-9])/gi,pd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ga(n){return encodeURIComponent(n).replace(fd,(e,t)=>pd[t]??e)}function Xn(n){return`${n}`}var we=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Zn,e.fromString){if(e.fromObject)throw new R(2805,!1);this.map=hd(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Xn):[Xn(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Xn(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Xn(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Qn=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function gd(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Ka(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ja(n){return typeof Blob<"u"&&n instanceof Blob}function Ya(n){return typeof FormData<"u"&&n instanceof FormData}function md(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Xa="Content-Type",Za="Accept",Qa="X-Request-URL",ec="text/plain",tc="application/json",vd=`${tc}, ${ec}, */*`,yt=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(gd(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Pe,this.context??=new Qn,!this.params)this.params=new we,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Ka(this.body)||Ja(this.body)||Ya(this.body)||md(this.body)?this.body:this.body instanceof we?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ya(this.body)?null:Ja(this.body)?this.body.type||null:Ka(this.body)?null:typeof this.body=="string"?ec:this.body instanceof we?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?tc:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,m)=>h.set(m,e.setHeaders[m]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((h,m)=>h.set(m,e.setParams[m]),d)),new n(t,r,o,{params:d,headers:u,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},Xe=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Xe||{}),It=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Pe,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},er=class n extends It{constructor(e={}){super(e)}type=Xe.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},en=class n extends It{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Xe.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},tn=class extends It{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yd=200,Ed=204;function ji(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var nr=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof yt)s=t;else{let c;i.headers instanceof Pe?c=i.headers:c=new Pe(i.headers);let u;i.params&&(i.params instanceof we?u=i.params:u=new we({fromObject:i.params})),s=new yt(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=v(s).pipe(Ie(c=>this.handler.handle(c)));if(t instanceof yt||i.observe==="events")return o;let a=o.pipe(oe(c=>c instanceof en));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(b(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new R(2806,!1);return c.body}));case"blob":return a.pipe(b(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new R(2807,!1);return c.body}));case"text":return a.pipe(b(c=>{if(c.body!==null&&typeof c.body!="string")throw new R(2808,!1);return c.body}));case"json":default:return a.pipe(b(c=>c.body))}case"response":return a;default:throw new R(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new we().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ji(i,r))}post(t,r,i={}){return this.request("POST",t,ji(i,r))}put(t,r,i={}){return this.request("PUT",t,ji(i,r))}static \u0275fac=function(r){return new(r||n)(_(Et))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();var Id=new S("");function _d(n,e){return e(n)}function wd(n,e,t){return(r,i)=>j(t,()=>e(r,s=>n(s,i)))}var Vi=new S(""),nc=new S(""),rc=new S("",{providedIn:"root",factory:()=>!0});var tr=(()=>{class n extends Et{backend;injector;chain=null;pendingTasks=p($n);contributeToStability=p(rc);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Vi),...this.injector.get(nc,[])]));this.chain=r.reduceRight((i,s)=>wd(i,s,this.injector),_d)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(pt(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(_(Qt),_(ae))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();var Td=/^\)\]\}',?\n/,bd=RegExp(`^${Qa}:`,"m");function Rd(n){return"responseURL"in n&&n.responseURL?n.responseURL:bd.test(n.getAllResponseHeaders())?n.getResponseHeader(Qa):null}var $i=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new R(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?O(r.\u0275loadImpl()):v(null)).pipe(F(()=>new me(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((w,T)=>o.setRequestHeader(w,T.join(","))),t.headers.has(Za)||o.setRequestHeader(Za,vd),!t.headers.has(Xa)){let w=t.detectContentTypeHeader();w!==null&&o.setRequestHeader(Xa,w)}if(t.responseType){let w=t.responseType.toLowerCase();o.responseType=w!=="json"?w:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let w=o.statusText||"OK",T=new Pe(o.getAllResponseHeaders()),x=Rd(o)||t.url;return c=new er({headers:T,status:o.status,statusText:w,url:x}),c},d=()=>{let{headers:w,status:T,statusText:x,url:Y}=u(),k=null;T!==Ed&&(k=typeof o.response>"u"?o.responseText:o.response),T===0&&(T=k?yd:0);let Ae=T>=200&&T<300;if(t.responseType==="json"&&typeof k=="string"){let xn=k;k=k.replace(Td,"");try{k=k!==""?JSON.parse(k):null}catch(jt){k=xn,Ae&&(Ae=!1,k={error:jt,text:k})}}Ae?(s.next(new en({body:k,headers:w,status:T,statusText:x,url:Y||void 0})),s.complete()):s.error(new tn({error:k,headers:w,status:T,statusText:x,url:Y||void 0}))},f=w=>{let{url:T}=u(),x=new tn({error:w,status:o.status||0,statusText:o.statusText||"Unknown Error",url:T||void 0});s.error(x)},h=!1,m=w=>{h||(s.next(u()),h=!0);let T={type:Xe.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),t.responseType==="text"&&o.responseText&&(T.partialText=o.responseText),s.next(T)},C=w=>{let T={type:Xe.UploadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),s.next(T)};return o.addEventListener("load",d),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",m),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:Xe.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",d),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",m),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(_(qn))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),ic=new S(""),Sd="XSRF-TOKEN",Ad=new S("",{providedIn:"root",factory:()=>Sd}),Cd="X-XSRF-TOKEN",kd=new S("",{providedIn:"root",factory:()=>Cd}),nn=class{},Pd=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wn(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(_($),_(Ad))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function Od(n,e){let t=n.url.toLowerCase();if(!p(ic)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=p(nn).getToken(),i=p(kd);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Bi=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Bi||{});function Dd(n,e){return{\u0275kind:n,\u0275providers:e}}function Nd(...n){let e=[nr,$i,tr,{provide:Et,useExisting:tr},{provide:Qt,useFactory:()=>p(Id,{optional:!0})??p($i)},{provide:Vi,useValue:Od,multi:!0},{provide:ic,useValue:!0},{provide:nn,useClass:Pd}];for(let t of n)e.push(...t.\u0275providers);return _e(e)}function Md(n){return Dd(Bi.Interceptors,n.map(e=>({provide:Vi,useValue:e,multi:!0})))}var sc=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(_($))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ud=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=_(xd),i},providedIn:"root"})}return n})(),xd=(()=>{class n extends Ud{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Je.NONE:return r;case Je.HTML:return mt(r,"HTML")?gt(r):pa(this._doc,String(r)).toString();case Je.STYLE:return mt(r,"Style")?gt(r):r;case Je.SCRIPT:if(mt(r,"Script"))return gt(r);throw new R(5200,!1);case Je.URL:return mt(r,"URL")?gt(r):fa(String(r));case Je.RESOURCE_URL:if(mt(r,"ResourceURL"))return gt(r);throw new R(5201,!1);default:throw new R(5202,!1)}}bypassSecurityTrustHtml(t){return ca(t)}bypassSecurityTrustStyle(t){return ua(t)}bypassSecurityTrustScript(t){return la(t)}bypassSecurityTrustUrl(t){return da(t)}bypassSecurityTrustResourceUrl(t){return ha(t)}static \u0275fac=function(r){return new(r||n)(_($))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E="primary",mn=Symbol("RouteTitle"),Gi=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function et(n){return new Gi(n)}function fc(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function jd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ce(n[t],e[t]))return!1;return!0}function ce(n,e){let t=n?Ki(n):void 0,r=e?Ki(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!pc(n[i],e[i]))return!1;return!0}function Ki(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function gc(n){return n.length>0?n[n.length-1]:null}function Le(n){return Wo(n)?n:_a(n)?O(Promise.resolve(n)):v(n)}var $d={exact:vc,subset:yc},mc={exact:Vd,subset:Bd,ignored:()=>!0};function oc(n,e,t){return $d[t.paths](n.root,e.root,t.matrixParams)&&mc[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Vd(n,e){return ce(n,e)}function vc(n,e,t){if(!Ze(n.segments,e.segments)||!sr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!vc(n.children[r],e.children[r],t))return!1;return!0}function Bd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>pc(n[t],e[t]))}function yc(n,e,t){return Ec(n,e,e.segments,t)}function Ec(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ze(i,t)||e.hasChildren()||!sr(i,t,r))}else if(n.segments.length===t.length){if(!Ze(n.segments,t)||!sr(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!yc(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Ze(n.segments,i)||!sr(n.segments,i,r)||!n.children[E]?!1:Ec(n.children[E],e,s,r)}}function sr(n,e,t){return e.every((r,i)=>mc[t](n[i].parameters,r.parameters))}var le=class{root;queryParams;fragment;_queryParamMap;constructor(e=new A([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=et(this.queryParams),this._queryParamMap}toString(){return Wd.serialize(this)}},A=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return or(this)}},Oe=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=et(this.parameters),this._parameterMap}toString(){return _c(this)}};function zd(n,e){return Ze(n,e)&&n.every((t,r)=>ce(t.parameters,e[r].parameters))}function Ze(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Hd(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===E&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==E&&(t=t.concat(e(i,r)))}),t}var tt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>new De,providedIn:"root"})}return n})(),De=class{parse(e){let t=new Yi(e);return new le(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${rn(e.root,!0)}`,r=Kd(e.queryParams),i=typeof e.fragment=="string"?`#${qd(e.fragment)}`:"";return`${t}${r}${i}`}},Wd=new De;function or(n){return n.segments.map(e=>_c(e)).join("/")}function rn(n,e){if(!n.hasChildren())return or(n);if(e){let t=n.children[E]?rn(n.children[E],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==E&&r.push(`${i}:${rn(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Hd(n,(r,i)=>i===E?[rn(n.children[E],!1)]:[`${i}:${rn(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[E]!=null?`${or(n)}/${t[0]}`:`${or(n)}/(${t.join("//")})`}}function Ic(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rr(n){return Ic(n).replace(/%3B/gi,";")}function qd(n){return encodeURI(n)}function Ji(n){return Ic(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ar(n){return decodeURIComponent(n)}function ac(n){return ar(n.replace(/\+/g,"%20"))}function _c(n){return`${Ji(n.path)}${Gd(n.parameters)}`}function Gd(n){return Object.entries(n).map(([e,t])=>`;${Ji(e)}=${Ji(t)}`).join("")}function Kd(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${rr(t)}=${rr(i)}`).join("&"):`${rr(t)}=${rr(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Jd=/^[^\/()?;#]+/;function zi(n){let e=n.match(Jd);return e?e[0]:""}var Yd=/^[^\/()?;=#]+/;function Xd(n){let e=n.match(Yd);return e?e[0]:""}var Zd=/^[^=?&#]+/;function Qd(n){let e=n.match(Zd);return e?e[0]:""}var eh=/^[^&#]+/;function th(n){let e=n.match(eh);return e?e[0]:""}var Yi=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new A([],{}):new A([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[E]=new A(e,t)),r}parseSegment(){let e=zi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(e),new Oe(ar(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Xd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=zi(this.remaining);i&&(r=i,this.capture(r))}e[ar(t)]=ar(r)}parseQueryParam(e){let t=Qd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=th(this.remaining);o&&(r=o,this.capture(r))}let i=ac(t),s=ac(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new R(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=E);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[E]:new A([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new R(4011,!1)}};function wc(n){return n.segments.length>0?new A([],{[E]:n}):n}function Tc(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=Tc(i);if(r===E&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new A(n.segments,e);return nh(t)}function nh(n){if(n.numberOfChildren===1&&n.children[E]){let e=n.children[E];return new A(n.segments.concat(e.segments),e.children)}return n}function Ne(n){return n instanceof le}function bc(n,e,t=null,r=null){let i=Rc(n);return Sc(i,e,t,r)}function Rc(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new A(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=wc(r);return e??i}function Sc(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Hi(i,i,i,t,r);let s=rh(e);if(s.toRoot())return Hi(i,i,new A([],{}),t,r);let o=ih(s,i,n),a=o.processChildren?on(o.segmentGroup,o.index,s.commands):Cc(o.segmentGroup,o.index,s.commands);return Hi(i,o.segmentGroup,a,t,r)}function ur(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function cn(n){return typeof n=="object"&&n!=null&&n.outlets}function Hi(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=Ac(n,e,t);let a=wc(Tc(o));return new le(a,s,i)}function Ac(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Ac(s,e,t)}),new A(n.segments,r)}var lr=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ur(r[0]))throw new R(4003,!1);let i=r.find(cn);if(i&&i!==gc(r))throw new R(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rh(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new lr(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new lr(t,e,r)}var Tt=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ih(n,e,t){if(n.isAbsolute)return new Tt(e,!0,0);if(!t)return new Tt(e,!1,NaN);if(t.parent===null)return new Tt(t,!0,0);let r=ur(n.commands[0])?0:1,i=t.segments.length-1+r;return sh(t,i,n.numberOfDoubleDots)}function sh(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new R(4005,!1);i=r.segments.length}return new Tt(r,!1,i-s)}function oh(n){return cn(n[0])?n[0].outlets:{[E]:n}}function Cc(n,e,t){if(n??=new A([],{}),n.segments.length===0&&n.hasChildren())return on(n,e,t);let r=ah(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new A(n.segments.slice(0,r.pathIndex),{});return s.children[E]=new A(n.segments.slice(r.pathIndex),n.children),on(s,0,i)}else return r.match&&i.length===0?new A(n.segments,{}):r.match&&!n.hasChildren()?Xi(n,e,t):r.match?on(n,0,i):Xi(n,e,t)}function on(n,e,t){if(t.length===0)return new A(n.segments,{});{let r=oh(t),i={};if(Object.keys(r).some(s=>s!==E)&&n.children[E]&&n.numberOfChildren===1&&n.children[E].segments.length===0){let s=on(n.children[E],e,t);return new A(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Cc(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new A(n.segments,i)}}function ah(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(cn(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!uc(c,u,o))return s;r+=2}else{if(!uc(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xi(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(cn(s)){let c=ch(s.outlets);return new A(r,c)}if(i===0&&ur(t[0])){let c=n.segments[e];r.push(new Oe(c.path,cc(t[0]))),i++;continue}let o=cn(s)?s.outlets[E]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ur(a)?(r.push(new Oe(o,cc(a))),i+=2):(r.push(new Oe(o,{})),i++)}return new A(r,{})}function ch(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Xi(new A([],{}),0,r))}),e}function cc(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function uc(n,e,t){return n==t.path&&ce(e,t.parameters)}var cr="imperative",M=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(M||{}),q=class{id;url;constructor(e,t){this.id=e,this.url=t}},Me=class extends q{type=M.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},G=class extends q{urlAfterRedirects;type=M.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},H=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(H||{}),Rt=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Rt||{}),ue=class extends q{reason;code;type=M.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},de=class extends q{reason;code;type=M.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},St=class extends q{error;target;type=M.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},un=class extends q{urlAfterRedirects;state;type=M.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dr=class extends q{urlAfterRedirects;state;type=M.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hr=class extends q{urlAfterRedirects;state;shouldActivate;type=M.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fr=class extends q{urlAfterRedirects;state;type=M.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pr=class extends q{urlAfterRedirects;state;type=M.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gr=class{route;type=M.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mr=class{route;type=M.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vr=class{snapshot;type=M.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yr=class{snapshot;type=M.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Er=class{snapshot;type=M.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ir=class{snapshot;type=M.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},At=class{routerEvent;position;anchor;type=M.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ln=class{},Ct=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function uh(n,e){return n.providers&&!n._injector&&(n._injector=Bn(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ee(n){return n.outlet||E}function lh(n,e){let t=n.filter(r=>ee(r)===e);return t.push(...n.filter(r=>ee(r)!==e)),t}function vn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var _r=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return vn(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new nt(this.rootInjector)}},nt=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _r(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(_(ae))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wr=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Zi(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Zi(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Qi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qi(e,this._root).map(t=>t.value)}};function Zi(n,e){if(n===e.value)return e;for(let t of e.children){let r=Zi(n,t);if(r)return r}return null}function Qi(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Qi(n,t);if(r.length)return r.unshift(e),r}return[]}var W=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function wt(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dn=class extends wr{snapshot;constructor(e,t){super(e),this.snapshot=t,as(this,e)}toString(){return this.snapshot.toString()}};function kc(n){let e=dh(n),t=new B([new Oe("",{})]),r=new B({}),i=new B({}),s=new B({}),o=new B(""),a=new he(t,r,s,o,i,E,n,e.root);return a.snapshot=e.root,new dn(new W(a,[]),e)}function dh(n){let e={},t={},r={},i="",s=new Qe([],e,r,i,t,E,n,null,{});return new hn("",new W(s,[]))}var he=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(b(u=>u[mn]))??v(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(b(e=>et(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(b(e=>et(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tr(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:g(g({},e.params),n.params),data:g(g({},e.data),n.data),resolve:g(g(g(g({},n.data),e.data),i?.data),n._resolvedData)}:r={params:g({},n.params),data:g({},n.data),resolve:g(g({},n.data),n._resolvedData??{})},i&&Oc(i)&&(r.resolve[mn]=i.title),r}var Qe=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mn]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=et(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=et(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},hn=class extends wr{url;constructor(e,t){super(t),this.url=e,as(this,t)}toString(){return Pc(this._root)}};function as(n,e){e.value._routerState=n,e.children.forEach(t=>as(n,t))}function Pc(n){let e=n.children.length>0?` { ${n.children.map(Pc).join(", ")} } `:"";return`${n.value}${e}`}function Wi(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ce(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ce(e.params,t.params)||n.paramsSubject.next(t.params),jd(e.url,t.url)||n.urlSubject.next(t.url),ce(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function es(n,e){let t=ce(n.params,e.params)&&zd(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||es(n.parent,e.parent))}function Oc(n){return typeof n.title=="string"||n.title===null}var Dc=new S(""),cs=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=E;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=na(void 0);parentContexts=p(nt);location=p(ya);changeDetector=p(zn);inputBinder=p(yn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new R(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new ts(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=qt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Bt]})}return n})(),ts=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===he?this.route:e===nt?this.childContexts:e===Dc?this.outletData:this.parent.get(e,t)}},yn=new S(""),us=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Fn([r.queryParams,r.params,r.data]).pipe(F(([s,o,a],c)=>(a=g(g(g({},s),o),a),c===0?v(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=Oa(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),ls=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ia({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ta(0,"router-outlet")},dependencies:[cs],encapsulation:2})}return n})();function ds(n){let e=n.children&&n.children.map(ds),t=e?L(g({},n),{children:e}):g({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==E&&(t.component=ls),t}function hh(n,e,t){let r=fn(n,e._root,t?t._root:void 0);return new dn(r,e)}function fn(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=fh(n,e,t);return new W(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>fn(n,a)),o}}let r=ph(e.value),i=e.children.map(s=>fn(n,s));return new W(r,i)}}function fh(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fn(n,r,i);return fn(n,r)})}function ph(n){return new he(new B(n.url),new B(n.params),new B(n.queryParams),new B(n.fragment),new B(n.data),n.outlet,n.component,n)}var kt=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Nc="ngNavigationCancelingError";function br(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ne(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Mc(!1,H.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Mc(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Nc]=!0,t.cancellationCode=e,t}function gh(n){return Lc(n)&&Ne(n.url)}function Lc(n){return!!n&&n[Nc]}var mh=(n,e,t,r)=>b(i=>(new ns(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ns=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wi(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=wt(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=wt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=wt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=wt(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ir(s.value.snapshot))}),e.children.length&&this.forwardEvent(new yr(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Wi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Wi(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Rr=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bt=class{component;route;constructor(e,t){this.component=e,this.route=t}};function vh(n,e,t){let r=n._root,i=e?e._root:null;return sn(r,i,t,[r.value])}function yh(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ot(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Zo(n)?n:e.get(n):r}function sn(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=wt(e);return n.children.forEach(o=>{Eh(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>an(a,t.getContext(o),i)),i}function Eh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Ih(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Rr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?sn(n,e,a?a.children:null,r,i):sn(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bt(a.outlet.component,o))}else o&&an(e,a,i),i.canActivateChecks.push(new Rr(r)),s.component?sn(n,null,a?a.children:null,r,i):sn(n,null,t,r,i);return i}function Ih(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ze(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ze(n.url,e.url)||!ce(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!es(n,e)||!ce(n.queryParams,e.queryParams);case"paramsChange":default:return!es(n,e)}}function an(n,e,t){let r=wt(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?an(o,e.children.getContext(s),t):an(o,null,t):an(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new bt(e.outlet.component,i)):t.canDeactivateChecks.push(new bt(null,i)):t.canDeactivateChecks.push(new bt(null,i))}function En(n){return typeof n=="function"}function _h(n){return typeof n=="boolean"}function wh(n){return n&&En(n.canLoad)}function Th(n){return n&&En(n.canActivate)}function bh(n){return n&&En(n.canActivateChild)}function Rh(n){return n&&En(n.canDeactivate)}function Sh(n){return n&&En(n.canMatch)}function Uc(n){return n instanceof qo||n?.name==="EmptyError"}var ir=Symbol("INITIAL_VALUE");function Pt(){return F(n=>Fn(n.map(e=>e.pipe(ft(1),Yo(ir)))).pipe(b(e=>{for(let t of e)if(t!==!0){if(t===ir)return ir;if(t===!1||Ah(t))return t}return!0}),oe(e=>e!==ir),ft(1)))}function Ah(n){return Ne(n)||n instanceof kt}function Ch(n,e){return z(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?v(L(g({},t),{guardsResult:!0})):kh(o,r,i,n).pipe(z(a=>a&&_h(a)?Ph(r,s,n,e):v(a)),b(a=>L(g({},t),{guardsResult:a})))})}function kh(n,e,t,r){return O(n).pipe(z(i=>Lh(i.component,i.route,t,e,r)),Ce(i=>i!==!0,!0))}function Ph(n,e,t,r){return O(e).pipe(Ie(i=>Go(Dh(i.route.parent,r),Oh(i.route,r),Mh(n,i.path,t),Nh(n,i.route,t))),Ce(i=>i!==!0,!0))}function Oh(n,e){return n!==null&&e&&e(new Er(n)),v(!0)}function Dh(n,e){return n!==null&&e&&e(new vr(n)),v(!0)}function Nh(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return v(!0);let i=r.map(s=>gi(()=>{let o=vn(e)??t,a=Ot(s,o),c=Th(a)?a.canActivate(e,n):j(o,()=>a(e,n));return Le(c).pipe(Ce())}));return v(i).pipe(Pt())}function Mh(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yh(o)).filter(o=>o!==null).map(o=>gi(()=>{let a=o.guards.map(c=>{let u=vn(o.node)??t,d=Ot(c,u),f=bh(d)?d.canActivateChild(r,n):j(u,()=>d(r,n));return Le(f).pipe(Ce())});return v(a).pipe(Pt())}));return v(s).pipe(Pt())}function Lh(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return v(!0);let o=s.map(a=>{let c=vn(e)??i,u=Ot(a,c),d=Rh(u)?u.canDeactivate(n,e,t,r):j(c,()=>u(n,e,t,r));return Le(d).pipe(Ce())});return v(o).pipe(Pt())}function Uh(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return v(!0);let s=i.map(o=>{let a=Ot(o,n),c=wh(a)?a.canLoad(e,t):j(n,()=>a(e,t));return Le(c)});return v(s).pipe(Pt(),xc(r))}function xc(n){return Bo(N(e=>{if(typeof e!="boolean")throw br(n,e)}),b(e=>e===!0))}function xh(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return v(!0);let s=i.map(o=>{let a=Ot(o,n),c=Sh(a)?a.canMatch(e,t):j(n,()=>a(e,t));return Le(c)});return v(s).pipe(Pt(),xc(r))}var pn=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},gn=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function _t(n){return Ee(new pn(n))}function Fh(n){return Ee(new R(4e3,!1))}function jh(n){return Ee(Mc(!1,H.GuardRejected))}var rs=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return v(r);if(i.numberOfChildren>1||!i.children[E])return Fh(`${e.redirectTo}`);i=i.children[E]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:h,params:m,data:C,title:w}=i,T=j(s,()=>a({params:m,data:C,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:h,title:w}));if(T instanceof le)throw new gn(T);t=T}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new gn(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new le(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new A(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new R(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},is={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $h(n,e,t,r,i){let s=Fc(n,e,t);return s.matched?(r=uh(e,r),xh(r,e,t,i).pipe(b(o=>o===!0?s:g({},is)))):v(s)}function Fc(n,e,t){if(e.path==="**")return Vh(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?g({},is):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||fc)(t,n,e);if(!i)return g({},is);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?g(g({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Vh(n){return{matched:!0,parameters:n.length>0?gc(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function lc(n,e,t,r){return t.length>0&&Hh(n,t,r)?{segmentGroup:new A(e,zh(r,new A(t,n.children))),slicedSegments:[]}:t.length===0&&Wh(n,t,r)?{segmentGroup:new A(n.segments,Bh(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new A(n.segments,n.children),slicedSegments:t}}function Bh(n,e,t,r){let i={};for(let s of t)if(Ar(n,e,s)&&!r[ee(s)]){let o=new A([],{});i[ee(s)]=o}return g(g({},r),i)}function zh(n,e){let t={};t[E]=e;for(let r of n)if(r.path===""&&ee(r)!==E){let i=new A([],{});t[ee(r)]=i}return t}function Hh(n,e,t){return t.some(r=>Ar(n,e,r)&&ee(r)!==E)}function Wh(n,e,t){return t.some(r=>Ar(n,e,r))}function Ar(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function qh(n,e,t){return e.length===0&&!n.children[t]}var ss=class{};function Gh(n,e,t,r,i,s,o="emptyOnly"){return new os(n,e,t,r,i,o,s).recognize()}var Kh=31,os=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new rs(this.urlSerializer,this.urlTree)}noMatchError(e){return new R(4002,`'${e.segmentGroup}'`)}recognize(){let e=lc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(b(({children:t,rootSnapshot:r})=>{let i=new W(r,t),s=new hn("",i),o=bc(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Qe([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),E,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,E,t).pipe(b(r=>({children:r,rootSnapshot:t})),X(r=>{if(r instanceof gn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pn?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(b(o=>o instanceof W?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return O(s).pipe(Ie(o=>{let a=r.children[o],c=lh(t,o);return this.processSegmentGroup(e,c,a,o,i)}),Jo((o,a)=>(o.push(...a),o)),mi(null),Ko(),z(o=>{if(o===null)return _t(r);let a=jc(o);return Jh(a),v(a)}))}processSegment(e,t,r,i,s,o,a){return O(t).pipe(Ie(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(X(u=>{if(u instanceof pn)return v(null);throw u}))),Ce(c=>!!c),X(c=>{if(Uc(c))return qh(r,i,s)?v(new ss):_t(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return ee(r)!==o&&(o===E||!Ar(i,s,r))?_t(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):_t(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:h}=Fc(t,i,s);if(!c)return _t(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kh&&(this.allowRedirects=!1));let m=new Qe(s,u,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,dc(i),ee(i),i.component??i._loadedComponent??null,i,hc(i)),C=Tr(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let w=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,w).pipe(z(T=>this.processSegment(e,r,t,T.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=$h(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(F(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(F(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:h,remainingSegments:m}=c,C=new Qe(h,f,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,dc(r),ee(r),r.component??r._loadedComponent??null,r,hc(r)),w=Tr(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(w.params),C.data=Object.freeze(w.data);let{segmentGroup:T,slicedSegments:x}=lc(t,h,m,u);if(x.length===0&&T.hasChildren())return this.processChildren(d,u,T,C).pipe(b(k=>new W(C,k)));if(u.length===0&&x.length===0)return v(new W(C,[]));let Y=ee(r)===s;return this.processSegment(d,u,T,x,Y?E:s,!0,C).pipe(b(k=>new W(C,k instanceof W?[k]:[])))}))):_t(t)))}getChildConfig(e,t,r){return t.children?v({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?v({routes:t._loadedRoutes,injector:t._loadedInjector}):Uh(e,t,r,this.urlSerializer).pipe(z(i=>i?this.configLoader.loadChildren(e,t).pipe(N(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):jh(t))):v({routes:[],injector:e})}};function Jh(n){n.sort((e,t)=>e.value.outlet===E?-1:t.value.outlet===E?1:e.value.outlet.localeCompare(t.value.outlet))}function Yh(n){let e=n.value.routeConfig;return e&&e.path===""}function jc(n){let e=[],t=new Set;for(let r of n){if(!Yh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=jc(r.children);e.push(new W(r.value,i))}return e.filter(r=>!t.has(r))}function dc(n){return n.data||{}}function hc(n){return n.resolve||{}}function Xh(n,e,t,r,i,s){return z(o=>Gh(n,e,t,r,o.extractedUrl,i,s).pipe(b(({state:a,tree:c})=>L(g({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Zh(n,e){return z(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return v(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of $c(c))o.add(u);let a=0;return O(o).pipe(Ie(c=>s.has(c)?Qh(c,r,n,e):(c.data=Tr(c,c.parent,n).resolve,v(void 0))),N(()=>a++),vi(1),z(c=>a===o.size?v(t):ye))})}function $c(n){let e=n.children.map(t=>$c(t)).flat();return[n,...e]}function Qh(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Oc(i)&&(s[mn]=i.title),ef(s,n,e,r).pipe(b(o=>(n._resolvedData=o,n.data=Tr(n,n.parent,t).resolve,null)))}function ef(n,e,t,r){let i=Ki(n);if(i.length===0)return v({});let s={};return O(i).pipe(z(o=>tf(n[o],e,t,r).pipe(Ce(),N(a=>{if(a instanceof kt)throw br(new De,a);s[o]=a}))),vi(1),b(()=>s),X(o=>Uc(o)?ye:Ee(o)))}function tf(n,e,t,r){let i=vn(e)??r,s=Ot(n,i),o=s.resolve?s.resolve(e,t):j(i,()=>s(e,t));return Le(o)}function qi(n){return F(e=>{let t=n(e);return t?O(t).pipe(b(()=>e)):v(e)})}var hs=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===E);return r}getResolvedTitleForRoute(t){return t.data[mn]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>p(Vc),providedIn:"root"})}return n})(),Vc=(()=>{class n extends hs{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(_(sc))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rt=new S("",{providedIn:"root",factory:()=>({})}),it=new S(""),Cr=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=p(ka);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return v(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Le(t.loadComponent()).pipe(b(zc),N(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),pt(()=>{this.componentLoaders.delete(t)})),i=new di(r,()=>new ve).pipe(li());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return v({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Bc(r,this.compiler,t,this.onLoadEndListener).pipe(pt(()=>{this.childrenLoaders.delete(r)})),o=new di(s,()=>new ve).pipe(li());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bc(n,e,t,r){return Le(n.loadChildren()).pipe(b(zc),z(i=>i instanceof Ea||Array.isArray(i)?v(i):O(e.compileModuleAsync(i))),b(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(it,[],{optional:!0,self:!0}).flat()),{routes:o.map(ds),injector:s}}))}function nf(n){return n&&typeof n=="object"&&"default"in n}function zc(n){return nf(n)?n.default:n}var kr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>p(rf),providedIn:"root"})}return n})(),rf=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fs=new S(""),ps=new S("");function Hc(n,e,t){let r=n.get(ps),i=n.get($);return n.get(D).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),sf(n))),{onViewTransitionCreated:c}=r;return c&&j(n,()=>c({transition:a,from:e,to:t})),o})}function sf(n){return new Promise(e=>{aa({read:()=>setTimeout(e)},{injector:n})})}var gs=new S(""),Pr=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ve;transitionAbortSubject=new ve;configLoader=p(Cr);environmentInjector=p(ae);destroyRef=p(jn);urlSerializer=p(tt);rootContexts=p(nt);location=p(vt);inputBindingEnabled=p(yn,{optional:!0})!==null;titleStrategy=p(hs);options=p(rt,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=p(kr);createViewTransition=p(fs,{optional:!0});navigationErrorHandler=p(gs,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>v(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new gr(i)),r=i=>this.events.next(new mr(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(L(g({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new B(null),this.transitions.pipe(oe(r=>r!==null),F(r=>{let i=!1,s=!1;return v(r).pipe(F(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",H.SupersededByNewNavigation),ye;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?L(g({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new de(o.id,this.urlSerializer.serialize(o.rawUrl),u,Rt.IgnoredSameUrlNavigation)),o.resolve(!1),ye}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return v(o).pipe(F(u=>(this.events.next(new Me(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?ye:Promise.resolve(u))),Xh(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),N(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=L(g({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new un(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:h,extras:m}=o,C=new Me(u,this.urlSerializer.serialize(d),f,h);this.events.next(C);let w=kc(this.rootComponentType).snapshot;return this.currentTransition=r=L(g({},o),{targetSnapshot:w,urlAfterRedirects:d,extras:L(g({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,v(r)}else{let u="";return this.events.next(new de(o.id,this.urlSerializer.serialize(o.extractedUrl),u,Rt.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ye}}),N(o=>{let a=new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),b(o=>(this.currentTransition=r=L(g({},o),{guards:vh(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Ch(this.environmentInjector,o=>this.events.next(o)),N(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw br(this.urlSerializer,o.guardsResult);let a=new hr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),oe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",H.GuardRejected),!1)),qi(o=>{if(o.guards.canActivateChecks.length!==0)return v(o).pipe(N(a=>{let c=new fr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),F(a=>{let c=!1;return v(a).pipe(Zh(this.paramsInheritanceStrategy,this.environmentInjector),N({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",H.NoDataFromResolver)}}))}),N(a=>{let c=new pr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),qi(o=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(N(d=>{c.component=d}),b(()=>{})));for(let d of c.children)u.push(...a(d));return u};return Fn(a(o.targetSnapshot.root)).pipe(mi(null),ft(1))}),qi(()=>this.afterPreactivation()),F(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?O(c).pipe(b(()=>r)):v(r)}),b(o=>{let a=hh(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=L(g({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),N(()=>{this.events.next(new ln)}),mh(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ft(1),N({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new G(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Xo(this.transitionAbortSubject.pipe(N(o=>{throw o}))),pt(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",H.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),X(o=>{if(this.destroyed)return r.resolve(!1),ye;if(s=!0,Lc(o))this.events.next(new ue(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),gh(o)?this.events.next(new Ct(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new St(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=j(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof kt){let{message:u,cancellationCode:d}=br(this.urlSerializer,c);this.events.next(new ue(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new Ct(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return ye}))}))}cancelNavigationTransition(t,r,i){let s=new ue(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function of(n){return n!==cr}var Wc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>p(af),providedIn:"root"})}return n})(),Sr=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},af=(()=>{class n extends Sr{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ei(n)))(i||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qc=(()=>{class n{urlSerializer=p(tt);options=p(rt,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=p(vt);urlHandlingStrategy=p(kr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new le;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof le?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=kc(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>p(cf),providedIn:"root"})}return n})(),cf=(()=>{class n extends qc{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Me?this.updateStateMemento():t instanceof de?this.commitTransition(r):t instanceof un?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ln?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ue&&(t.code===H.GuardRejected||t.code===H.NoDataFromResolver)?this.restoreHistory(r):t instanceof St?this.restoreHistory(r,!0):t instanceof G&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=g(g({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=g(g({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ei(n)))(i||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Or(n,e){n.events.pipe(oe(t=>t instanceof G||t instanceof ue||t instanceof St||t instanceof de),b(t=>t instanceof G||t instanceof de?0:(t instanceof ue?t.code===H.Redirect||t.code===H.SupersededByNewNavigation:!1)?2:1),oe(t=>t!==2),ft(1)).subscribe(()=>{e()})}var uf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},K=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=p(Ri);stateManager=p(qc);options=p(rt,{optional:!0})||{};pendingTasks=p($n);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=p(Pr);urlSerializer=p(tt);location=p(vt);urlHandlingStrategy=p(kr);_events=new ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=p(Wc);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=p(it,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!p(yn,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Vo;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof ue&&r.code!==H.Redirect&&r.code!==H.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof G)this.navigated=!0;else if(r instanceof Ct){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=g({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||of(i.source)},o);this.scheduleNavigation(a,cr,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}hf(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=g({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ds),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=g(g({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=Rc(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Sc(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ne(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,cr,null,r)}navigate(t,r={skipLocationChange:!1}){return df(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=g({},uf):r===!1?i=g({},lf):i=r,Ne(t))return oc(this.currentUrlTree,t,i);let s=this.parseUrl(t);return oc(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,h)=>{a=f,c=h});let d=this.pendingTasks.add();return Or(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function df(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new R(4008,!1)}function hf(n){return!(n instanceof ln)&&!(n instanceof Ct)}var Dr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ve;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof G&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ne(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:ga(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Ne(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Q(K),Q(he),ta("tabindex"),Q(bi),Q(_i),Q(Kt))};static \u0275dir=qt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ba("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&wa("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hn],replaceUrl:[2,"replaceUrl","replaceUrl",Hn],routerLink:"routerLink"},features:[Bt]})}return n})(),ff=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ge;constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof G&&this.update()})}ngAfterContentInit(){v(this.links.changes,v(null)).pipe($t()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=O(t).pipe($t()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=pf(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Q(K),Q(_i),Q(bi),Q(zn),Q(Dr,8))};static \u0275dir=qt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&Ra(s,Dr,5),r&2){let o;Sa(o=Aa())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Bt]})}return n})();function pf(n){return!!n.paths}var In=class{};var Gc=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(oe(t=>t instanceof G),Ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Bn(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return O(i).pipe($t())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=v(null);let s=i.pipe(z(o=>o===null?v(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return O([s,o]).pipe($t())}else return s})}static \u0275fac=function(r){return new(r||n)(_(K),_(ae),_(In),_(Cr))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kc=new S(""),gf=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Me?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof de&&t.code===Rt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof At&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new At(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){va()};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function mf(n,...e){return _e([{provide:it,multi:!0,useValue:n},[],{provide:he,useFactory:Jc,deps:[K]},{provide:Ai,multi:!0,useFactory:Yc},e.map(t=>t.\u0275providers)])}function Jc(n){return n.routerState.root}function _n(n,e){return{\u0275kind:n,\u0275providers:e}}function Yc(){let n=p(Z);return e=>{let t=n.get(Ci);if(e!==t.components[0])return;let r=n.get(K),i=n.get(Xc);n.get(vs)===1&&r.initialNavigation(),n.get(eu,null,yi.Optional)?.setUpPreloading(),n.get(Kc,null,yi.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Xc=new S("",{factory:()=>new ve}),vs=new S("",{providedIn:"root",factory:()=>1});function Zc(){let n=[{provide:vs,useValue:0},Si(()=>{let e=p(Z);return e.get(Ma,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(K),s=e.get(Xc);Or(i,()=>{r(!0)}),e.get(Pr).afterPreactivation=()=>(r(!0),s.closed?v(void 0):s),i.initialNavigation()}))})];return _n(2,n)}function Qc(){let n=[Si(()=>{p(K).setUpLocationChangeListener()}),{provide:vs,useValue:2}];return _n(3,n)}var eu=new S("");function tu(n){return _n(0,[{provide:eu,useExisting:Gc},{provide:In,useExisting:n}])}function nu(){return _n(8,[us,{provide:yn,useExisting:us}])}function ru(n){oa("NgRouterViewTransitions");let e=[{provide:fs,useValue:Hc},{provide:ps,useValue:g({skipNextTransition:!!n?.skipInitialTransition},n)}];return _n(9,e)}var iu=[vt,{provide:tt,useClass:De},K,nt,{provide:he,useFactory:Jc,deps:[K]},Cr,[]],vf=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[iu,[],{provide:it,multi:!0,useValue:t},[],r?.errorHandler?{provide:gs,useValue:r.errorHandler}:[],{provide:rt,useValue:r||{}},r?.useHash?Ef():If(),yf(),r?.preloadingStrategy?tu(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?_f(r):[],r?.bindToComponentInputs?nu().\u0275providers:[],r?.enableViewTransitions?ru().\u0275providers:[],wf()]}}static forChild(t){return{ngModule:n,providers:[{provide:it,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wt({type:n});static \u0275inj=Vt({})}return n})();function yf(){return{provide:Kc,useFactory:()=>{let n=p(Fa),e=p(D),t=p(rt),r=p(Pr),i=p(tt);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gf(i,r,n,e,t)}}}function Ef(){return{provide:Kt,useClass:Ua}}function If(){return{provide:Kt,useClass:La}}function _f(n){return[n.initialNavigation==="disabled"?Qc().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Zc().\u0275providers:[]]}var ms=new S("");function wf(){return[{provide:ms,useFactory:Yc},{provide:Ai,multi:!0,useExisting:ms}]}var su=()=>{};var cu=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Tf=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Nr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(t[d],t[f],t[h],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cu(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Tf(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new Es;let h=s<<2|a>>4;if(r.push(h),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let C=u<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Es=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bf=function(n){let e=cu(n);return Nr.encodeByteArray(e,!0)},_s=function(n){return bf(n).replace(/\./g,"")},Mr=function(n){try{return Nr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Rf=()=>uu().__FIREBASE_DEFAULTS__,Sf=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Af=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Mr(n[1]);return e&&JSON.parse(e)},ws=()=>{try{return su()||Rf()||Sf()||Af()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lu=n=>{var e,t;return(t=(e=ws())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]};var Ts=()=>{var n;return(n=ws())===null||n===void 0?void 0:n.config},bs=n=>{var e;return(e=ws())===null||e===void 0?void 0:e[`_${n}`]};var st=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Tn(n){return n.endsWith(".cloudworkstations.dev")}function du(n){return l(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var wn={};function Cf(){let n={prod:[],emulator:[]};for(let e of Object.keys(wn))wn[e]?n.emulator.push(e):n.prod.push(e);return n}function kf(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var ou=!1;function hu(n,e){if(typeof window>"u"||typeof document>"u"||!Tn(window.location.host)||wn[n]===e||wn[n]||ou)return;wn[n]=e;function t(h){return`__firebase__banner__${h}`}let r="__firebase__banner",s=Cf().prod.length>0;function o(){let h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{ou=!0,o()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){let h=kf(r),m=t("text"),C=document.getElementById(m)||document.createElement("span"),w=t("learnmore"),T=document.getElementById(w)||document.createElement("a"),x=t("preprendIcon"),Y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let k=h.element;a(k),d(T,w);let Ae=u();c(Y,x),k.append(Y,C,T,Ae),document.body.appendChild(k)}s?(C.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function V(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(V())}function pu(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gu(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vu(){let n=V();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Lr(){try{return typeof indexedDB=="object"}catch{return!1}}function yu(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Pf="FirebaseError",te=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Pf,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ne.prototype.create)}},ne=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Of(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new te(i,a,r)}};function Of(n,e){return n.replace(Df,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Df=/\{\$([^}]+)}/g;function Eu(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ue(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(au(s)&&au(o)){if(!Ue(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function au(n){return n!==null&&typeof n=="object"}function bn(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Iu(n,e){let t=new Is(n,e);return t.subscribe.bind(t)}var Is=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Nf(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ys),i.error===void 0&&(i.error=ys),i.complete===void 0&&(i.complete=ys);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nf(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ys(){}var uI=4*60*60*1e3;function re(n){return n&&n._delegate?n._delegate:n}var J=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ot="[DEFAULT]";var Rs=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new st;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lf(e))try{this.getOrInitializeService({instanceIdentifier:ot})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ot){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ot){return this.instances.has(e)}getOptions(e=ot){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mf(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ot){return this.component?this.component.multipleInstances?e:ot:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Mf(n){return n===ot?void 0:n}function Lf(n){return n.instantiationMode==="EAGER"}var Ur=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Rs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Uf=[],P=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(P||{}),xf={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},Ff=P.INFO,jf={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},$f=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=jf[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xe=class{constructor(e){this.name=e,this._logLevel=Ff,this._logHandler=$f,this._userLogHandler=null,Uf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in P))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...e),this._logHandler(this,P.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...e),this._logHandler(this,P.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,P.INFO,...e),this._logHandler(this,P.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,P.WARN,...e),this._logHandler(this,P.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...e),this._logHandler(this,P.ERROR,...e)}};var Vf=(n,e)=>e.some(t=>n instanceof t),_u,wu;function Bf(){return _u||(_u=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zf(){return wu||(wu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Tu=new WeakMap,As=new WeakMap,bu=new WeakMap,Ss=new WeakMap,ks=new WeakMap;function Hf(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(fe(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Tu.set(t,n)}).catch(()=>{}),ks.set(e,n),e}function Wf(n){if(As.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});As.set(n,e)}var Cs={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return As.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bu.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fe(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ru(n){Cs=n(Cs)}function qf(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(xr(this),e,...t);return bu.set(r,e.sort?e.sort():[e]),fe(r)}:zf().includes(n)?function(...e){return n.apply(xr(this),e),fe(Tu.get(this))}:function(...e){return fe(n.apply(xr(this),e))}}function Gf(n){return typeof n=="function"?qf(n):(n instanceof IDBTransaction&&Wf(n),Vf(n,Bf())?new Proxy(n,Cs):n)}function fe(n){if(n instanceof IDBRequest)return Hf(n);if(Ss.has(n))return Ss.get(n);let e=Gf(n);return e!==n&&(Ss.set(n,e),ks.set(e,n)),e}var xr=n=>ks.get(n);function Au(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=fe(o);return r&&o.addEventListener("upgradeneeded",c=>{r(fe(o.result),c.oldVersion,c.newVersion,fe(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Kf=["get","getKey","getAll","getAllKeys","count"],Jf=["put","add","delete","clear"],Ps=new Map;function Su(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ps.get(e))return Ps.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Jf.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kf.includes(t)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return Ps.set(e,s),s}Ru(n=>L(g({},n),{get:(e,t,r)=>Su(e,t)||n.get(e,t,r),has:(e,t)=>!!Su(e,t)||n.has(e,t)}));var Ds=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Yf(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Yf(n){let e=n.getComponent();return e?.type==="VERSION"}var Ns="@firebase/app",Cu="0.13.1";var Te=new xe("@firebase/app"),Xf="@firebase/app-compat",Zf="@firebase/analytics-compat",Qf="@firebase/analytics",ep="@firebase/app-check-compat",tp="@firebase/app-check",np="@firebase/auth",rp="@firebase/auth-compat",ip="@firebase/database",sp="@firebase/data-connect",op="@firebase/database-compat",ap="@firebase/functions",cp="@firebase/functions-compat",up="@firebase/installations",lp="@firebase/installations-compat",dp="@firebase/messaging",hp="@firebase/messaging-compat",fp="@firebase/performance",pp="@firebase/performance-compat",gp="@firebase/remote-config",mp="@firebase/remote-config-compat",vp="@firebase/storage",yp="@firebase/storage-compat",Ep="@firebase/firestore",Ip="@firebase/ai",_p="@firebase/firestore-compat",wp="firebase",Tp="11.9.0";var Ms="[DEFAULT]",bp={[Ns]:"fire-core",[Xf]:"fire-core-compat",[Qf]:"fire-analytics",[Zf]:"fire-analytics-compat",[tp]:"fire-app-check",[ep]:"fire-app-check-compat",[np]:"fire-auth",[rp]:"fire-auth-compat",[ip]:"fire-rtdb",[sp]:"fire-data-connect",[op]:"fire-rtdb-compat",[ap]:"fire-fn",[cp]:"fire-fn-compat",[up]:"fire-iid",[lp]:"fire-iid-compat",[dp]:"fire-fcm",[hp]:"fire-fcm-compat",[fp]:"fire-perf",[pp]:"fire-perf-compat",[gp]:"fire-rc",[mp]:"fire-rc-compat",[vp]:"fire-gcs",[yp]:"fire-gcs-compat",[Ep]:"fire-fst",[_p]:"fire-fst-compat",[Ip]:"fire-vertex","fire-js":"fire-js",[wp]:"fire-js-all"};var Rn=new Map,Rp=new Map,Ls=new Map;function ku(n,e){try{n.container.addComponent(e)}catch(t){Te.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function be(n){let e=n.name;if(Ls.has(e))return Te.debug(`There were multiple attempts to register component ${e}.`),!1;Ls.set(e,n);for(let t of Rn.values())ku(t,n);for(let t of Rp.values())ku(t,n);return!0}function Fr(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ie(n){return n==null?!1:n.settings!==void 0}var Sp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fe=new ne("app","Firebase",Sp);var Us=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new J("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fe.create("app-deleted",{appName:this._name})}};var Dt=Tp;function js(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ms,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Fe.create("bad-app-name",{appName:String(i)});if(t||(t=Ts()),!t)throw Fe.create("no-options");let s=Rn.get(i);if(s){if(Ue(t,s.options)&&Ue(r,s.config))return s;throw Fe.create("duplicate-app",{appName:i})}let o=new Ur(i);for(let c of Ls.values())o.addComponent(c);let a=new Us(t,r,o);return Rn.set(i,a),a}function An(n=Ms){let e=Rn.get(n);if(!e&&n===Ms&&Ts())return js();if(!e)throw Fe.create("no-app",{appName:n});return e}function jr(){return Array.from(Rn.values())}function U(n,e,t){var r;let i=(r=bp[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Te.warn(a.join(" "));return}be(new J(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Ap="firebase-heartbeat-database",Cp=1,Sn="firebase-heartbeat-store",Os=null;function Nu(){return Os||(Os=Au(Ap,Cp,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sn)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fe.create("idb-open",{originalErrorMessage:n.message})})),Os}function kp(n){return l(this,null,function*(){try{let t=(yield Nu()).transaction(Sn),r=yield t.objectStore(Sn).get(Mu(n));return yield t.done,r}catch(e){if(e instanceof te)Te.warn(e.message);else{let t=Fe.create("idb-get",{originalErrorMessage:e?.message});Te.warn(t.message)}}})}function Pu(n,e){return l(this,null,function*(){try{let r=(yield Nu()).transaction(Sn,"readwrite");yield r.objectStore(Sn).put(e,Mu(n)),yield r.done}catch(t){if(t instanceof te)Te.warn(t.message);else{let r=Fe.create("idb-set",{originalErrorMessage:t?.message});Te.warn(r.message)}}})}function Mu(n){return`${n.name}!${n.options.appId}`}var Pp=1024,Op=30,xs=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Fs(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ou();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Op){let o=Np(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Te.warn(r)}})}getHeartbeatsHeader(){return l(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Ou(),{heartbeatsToSend:r,unsentEntries:i}=Dp(this._heartbeatsCache.heartbeats),s=_s(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Te.warn(t),""}})}};function Ou(){return new Date().toISOString().substring(0,10)}function Dp(n,e=Pp){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Du(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Du(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Fs=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Lr()?yu().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield kp(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Pu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Pu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Du(n){return _s(JSON.stringify({version:2,heartbeats:n})).length}function Np(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Mp(n){be(new J("platform-logger",e=>new Ds(e),"PRIVATE")),be(new J("heartbeat",e=>new xs(e),"PRIVATE")),U(Ns,Cu,n),U(Ns,Cu,"esm2017"),U("fire-js","")}Mp("");var Lp="firebase",Up="11.9.1";U(Lp,Up,"app");function $s(n){n===void 0&&(ea($s),n=p(Z));let e=n.get(Vn);return t=>new me(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var Mt=new ki("ANGULARFIRE2_VERSION");function Vs(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Vr=(n,e)=>{let t=e?[e]:jr(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Nt=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Nt||{}),Lu=Pi()&&typeof Zone<"u"?Nt.WARN:Nt.SILENT;var $r=class{zone;delegate;constructor(e,t=Ho){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Lt=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=p(D);this.outsideAngular=t.runOutsideAngular(()=>new $r(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new $r(typeof Zone>"u"?void 0:Zone.current,zo))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uu=!1;function xp(n,e){!Uu&&(Lu>Nt.SILENT||Pi())&&(Uu=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Lu>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Fp(n){let e=p(D,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function at(n){let e=p(D,{optional:!0});return e?e.run(()=>n()):n()}var jp=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),j(t,()=>at(()=>n.apply(void 0,r)))),pe=(n,e,t)=>(t||=e?Nt.WARN:Nt.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=p(Lt),o=p(Vn),a=p(ae)}catch{return xp(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=at(()=>o.add())),i[u]=jp(i[u],r,a));let c=Fp(()=>n.apply(this,i));return e?c instanceof me?c.pipe(pi(s.outsideAngular),fi(s.insideAngular),$s(a)):c instanceof Promise?at(()=>new Promise((u,d)=>{o.run(()=>c).then(f=>j(a,()=>at(()=>u(f))),f=>j(a,()=>at(()=>d(f))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:at(()=>c):c instanceof me?c.pipe(pi(s.outsideAngular),fi(s.insideAngular)):at(()=>c)});var ct=class{constructor(e){return e}},Cn=class{constructor(){return jr()}};function $p(n){return n&&n.length===1?n[0]:new ct(An())}var Bs=new S("angularfire2._apps"),Vp={provide:ct,useFactory:$p,deps:[[new ke,Bs]]},Bp={provide:Cn,deps:[[new ke,Bs]]};function zp(n){return(e,t)=>{let r=t.get(Ke);U("angularfire",Mt.full,"core"),U("angularfire",Mt.full,"app"),U("angular",Ca.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ct(i)}}function l_(n,...e){return _e([Vp,Bp,{provide:Bs,useFactory:zp(n),multi:!0,deps:[D,Z,Lt,...e]}])}var d_=pe(js,!0);var Hp=new Map,Wp={activated:!1,tokenObservers:[]},qp={initialized:!1,enabled:!1};function se(n){return Hp.get(n)||Object.assign({},Wp)}function $u(){return qp}var Gp="https://content-firebaseappcheck.googleapis.com/v1";var Kp="exchangeDebugToken",xu={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},I_=24*60*60*1e3;var Ws=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return l(this,null,function*(){this.stop();try{this.pending=new st,this.pending.promise.catch(t=>{}),yield Jp(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new st,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Jp(n){return new Promise(e=>{setTimeout(e,n)})}var Yp={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},je=new ne("appCheck","AppCheck",Yp);function Vu(n){if(!se(n).activated)throw je.create("use-before-activation",{appName:n.name})}function Bu(r,i){return l(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let m=yield o.getHeartbeatsHeader();m&&(s["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(n,a)}catch(m){throw je.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw je.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(m){throw je.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,h=Date.now();return{token:u.token,expireTimeMillis:h+f,issuedAtTimeMillis:h}})}function zu(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Gp}/projects/${t}/apps/${r}:${Kp}?key=${i}`,body:{debug_token:e}}}var Xp="firebase-app-check-database",Zp=1,qs="firebase-app-check-store";var Br=null;function Qp(){return Br||(Br=new Promise((n,e)=>{try{let t=indexedDB.open(Xp,Zp);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(je.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(qs,{keyPath:"compositeKey"})}}}catch(t){e(je.create("storage-open",{originalErrorMessage:t?.message}))}}),Br)}function eg(n,e){return tg(ng(n),e)}function tg(n,e){return l(this,null,function*(){let r=(yield Qp()).transaction(qs,"readwrite"),s=r.objectStore(qs).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(je.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function ng(n){return`${n.options.appId}-${n.name}`}var kn=new xe("@firebase/app-check");function zs(n,e){return Lr()?eg(n,e).catch(t=>{kn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Hu(){return $u().enabled}function Wu(){return l(this,null,function*(){let n=$u();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var rg={error:"UNKNOWN_ERROR"};function ig(n){return Nr.encodeString(JSON.stringify(n),!1)}function Gs(n,e=!1,t=!1){return l(this,null,function*(){let r=n.app;Vu(r);let i=se(r),s=i.token,o;if(s&&!Pn(s)&&(i.token=void 0,s=void 0),!s){let u=yield i.cachedTokenPromise;u&&(Pn(u)?s=u:yield zs(r,void 0))}if(!e&&s&&Pn(s))return{token:s.token};let a=!1;if(Hu())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Bu(zu(r,yield Wu()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield zs(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?kn.warn(u.message):t&&kn.error(u),Hs(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield se(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?kn.warn(u.message):t&&kn.error(u),o=u}let c;return s?o?Pn(s)?c={token:s.token,internalError:o}:c=Hs(o):(c={token:s.token},i.token=s,yield zs(r,s)):c=Hs(o),a&&cg(r,c),c})}function sg(n){return l(this,null,function*(){let e=n.app;Vu(e);let{provider:t}=se(e);if(Hu()){let r=yield Wu(),{token:i}=yield Bu(zu(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function og(n,e,t,r){let{app:i}=n,s=se(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Pn(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),Fu(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Fu(n))}function qu(n,e){let t=se(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Fu(n){let{app:e}=n,t=se(e),r=t.tokenRefresher;r||(r=ag(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ag(n){let{app:e}=n;return new Ws(()=>l(null,null,function*(){let t=se(e),r;if(t.token?r=yield Gs(n,!0):r=yield Gs(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=se(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},xu.RETRIAL_MIN_WAIT,xu.RETRIAL_MAX_WAIT)}function cg(n,e){let t=se(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Pn(n){return n.expireTimeMillis-Date.now()>0}function Hs(n){return{token:ig(rg),error:n}}var Ks=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=se(this.app);for(let t of e)qu(this.app,t.next);return Promise.resolve()}};function ug(n,e){return new Ks(n,e)}function lg(n){return{getToken:e=>Gs(n,e),getLimitedUseToken:()=>sg(n),addTokenListener:e=>og(n,"INTERNAL",e),removeTokenListener:e=>qu(n.app,e)}}var dg="@firebase/app-check",hg="0.10.0";var fg="app-check",ju="app-check-internal";function pg(){be(new J(fg,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return ug(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ju).initialize()})),be(new J(ju,n=>{let e=n.getProvider("app-check").getImmediate();return lg(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),U(dg,hg)}pg();var gg="app-check";var zr=class{constructor(){return Vr(gg)}};var mg=["localhost","0.0.0.0","127.0.0.1"],N_=typeof window<"u"&&mg.includes(window.location.hostname);function cl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ul=cl,ll=new ne("auth","Firebase",cl());var Jr=new xe("@firebase/auth");function vg(n,...e){Jr.logLevel<=P.WARN&&Jr.warn(`Auth (${Dt}): ${n}`,...e)}function Wr(n,...e){Jr.logLevel<=P.ERROR&&Jr.error(`Auth (${Dt}): ${n}`,...e)}function ze(n,...e){throw Eo(n,...e)}function ut(n,...e){return Eo(n,...e)}function dl(n,e,t){let r=Object.assign(Object.assign({},ul()),{[e]:t});return new ne("auth","Firebase",r).create(e,{appName:n.name})}function Be(n){return dl(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eo(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ll.create(n,...e)}function y(n,e,...t){if(!n)throw Eo(e,...t)}function Re(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Wr(e),new Error(e)}function He(n,e){n||Re(e)}function Zs(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yg(){return Gu()==="http:"||Gu()==="https:"}function Gu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Eg(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yg()||gu()||"connection"in navigator)?navigator.onLine:!0}function Ig(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var lt=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,He(t>e,"Short delay should be less than long delay!"),this.isMobile=fu()||mu()}get(){return Eg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Io(n,e){He(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Yr=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _g={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wg=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tg=new lt(3e4,6e4);function xt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function We(s,o,a,c){return l(this,arguments,function*(n,e,t,r,i={}){return hl(n,i,()=>l(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=bn(Object.assign({key:n.config.apiKey},d)).slice(1),h=yield n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:h},u);return pu()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Tn(n.emulatorConfig.host)&&(m.credentials="include"),Yr.fetch()(yield pl(n,n.config.apiHost,t,f),m)}))})}function hl(n,e,t){return l(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},_g),e);try{let i=new Qs(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Hr(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hr(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hr(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hr(n,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dl(n,d,u);ze(n,d)}}catch(i){if(i instanceof te)throw i;ze(n,"network-request-failed",{message:String(i)})}})}function fl(s,o,a,c){return l(this,arguments,function*(n,e,t,r,i={}){let u=yield We(n,e,t,r,i);return"mfaPendingCredential"in u&&ze(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function pl(n,e,t,r){return l(this,null,function*(){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?Io(n.config,i):`${n.config.apiScheme}://${i}`;return wg.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function bg(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Qs=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ut(this.auth,"network-request-failed")),Tg.get())})}};function Hr(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ut(n,e,r);return i.customData._tokenResponse=t,i}function Ku(n){return n!==void 0&&n.enterprise!==void 0}var eo=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bg(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Rg(n,e){return l(this,null,function*(){return We(n,"GET","/v2/recaptchaConfig",xt(n,e))})}function Sg(n,e){return l(this,null,function*(){return We(n,"POST","/v1/accounts:delete",e)})}function Xr(n,e){return l(this,null,function*(){return We(n,"POST","/v1/accounts:lookup",e)})}function Dn(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _o(n,e=!1){return re(n).getIdToken(e)}function wo(n,e=!1){return l(this,null,function*(){let t=re(n),r=yield t.getIdToken(e),i=To(r);y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Dn(Js(i.auth_time)),issuedAtTime:Dn(Js(i.iat)),expirationTime:Dn(Js(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Js(n){return Number(n)*1e3}function To(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Wr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Mr(t);return i?JSON.parse(i):(Wr("Failed to decode base64 JWT payload"),null)}catch(i){return Wr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ju(n){let e=To(n);return y(e,"internal-error"),y(typeof e.exp<"u","internal-error"),y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Mn(n,e,t=!1){return l(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof te&&Ag(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Ag({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var to=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),t)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ln=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dn(this.lastLoginAt),this.creationTime=Dn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zr(n){return l(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Mn(n,Xr(t,{idToken:r}));y(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gl(s.providerUserInfo):[],a=Cg(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ln(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function bo(n){return l(this,null,function*(){let e=re(n);yield Zr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Cg(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gl(n){return n.map(e=>{var{providerId:t}=e,r=hi(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kg(n,e){return l(this,null,function*(){let t=yield hl(n,{},()=>l(null,null,function*(){let r=bn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=yield pl(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Tn(n.emulatorConfig.host)&&(c.credentials="include"),Yr.fetch()(o,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Pg(n,e){return l(this,null,function*(){return We(n,"POST","/v2/accounts:revokeToken",xt(n,e))})}var Nn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(typeof e.idToken<"u","internal-error"),y(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ju(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(e.length!==0,"internal-error");let t=Ju(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return l(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield kg(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Re("not implemented")}};function $e(n,e){y(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ve=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=hi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new to(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ln(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let t=yield Mn(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return wo(this,e)}reload(){return bo(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Zr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(ie(this.auth.app))return Promise.reject(Be(this.auth));let e=yield this.getIdToken();return yield Mn(this,Sg(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=t.photoURL)!==null&&o!==void 0?o:void 0,w=(a=t.tenantId)!==null&&a!==void 0?a:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,Y=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:Ae,isAnonymous:xn,providerData:jt,stsTokenManager:$o}=t;y(k&&$o,e,"internal-error");let Hl=Nn.fromJSON(this.name,$o);y(typeof k=="string",e,"internal-error"),$e(f,e.name),$e(h,e.name),y(typeof Ae=="boolean",e,"internal-error"),y(typeof xn=="boolean",e,"internal-error"),$e(m,e.name),$e(C,e.name),$e(w,e.name),$e(T,e.name),$e(x,e.name),$e(Y,e.name);let ui=new n({uid:k,auth:e,email:h,emailVerified:Ae,displayName:f,isAnonymous:xn,photoURL:C,phoneNumber:m,tenantId:w,stsTokenManager:Hl,createdAt:x,lastLoginAt:Y});return jt&&Array.isArray(jt)&&(ui.providerData=jt.map(Wl=>Object.assign({},Wl))),T&&(ui._redirectEventId=T),ui}static _fromIdTokenResponse(e,t,r=!1){return l(this,null,function*(){let i=new Nn;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zr(s),s})}static _fromGetAccountInfoResponse(e,t,r){return l(this,null,function*(){let i=t.users[0];y(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?gl(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Nn;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ln(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var Yu=new Map;function Se(n){He(n instanceof Function,"Expected a class definition");let e=Yu.get(n);return e?(He(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yu.set(n,e),e)}var Og=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(t,r){return l(this,null,function*(){this.storage[t]=r})}_get(t){return l(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return l(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),no=Og;function qr(n,e,t){return`firebase:${n}:${e}:${t}`}var Qr=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=qr(this.userKey,i.apiKey,s),this.fullPersistenceKey=qr("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Xr(this.auth,{idToken:e}).catch(()=>{});return t?Ve._fromGetAccountInfoResponse(this.auth,t,e):null}return Ve._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return l(this,null,function*(){if(!t.length)return new n(Se(no),e,r);let i=(yield Promise.all(t.map(u=>l(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Se(no),o=qr(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(o);if(d){let f;if(typeof d=="string"){let h=yield Xr(e,{idToken:d}).catch(()=>{});if(!h)break;f=yield Ve._fromGetAccountInfoResponse(e,h,d)}else f=Ve._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>l(null,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,r))})}};function Xu(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(El(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ml(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_l(e))return"Blackberry";if(wl(e))return"Webos";if(vl(e))return"Safari";if((e.includes("chrome/")||yl(e))&&!e.includes("edge/"))return"Chrome";if(Il(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function ml(n=V()){return/firefox\//i.test(n)}function vl(n=V()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yl(n=V()){return/crios\//i.test(n)}function El(n=V()){return/iemobile/i.test(n)}function Il(n=V()){return/android/i.test(n)}function _l(n=V()){return/blackberry/i.test(n)}function wl(n=V()){return/webos/i.test(n)}function Ro(n=V()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Dg(n=V()){var e;return Ro(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ng(){return vu()&&document.documentMode===10}function Tl(n=V()){return Ro(n)||Il(n)||wl(n)||_l(n)||/windows phone/i.test(n)||El(n)}function bl(n,e=[]){let t;switch(n){case"Browser":t=Xu(V());break;case"Worker":t=`${Xu(V())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Dt}/${r}`}var ro=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Mg(t){return l(this,arguments,function*(n,e={}){return We(n,"GET","/v2/passwordPolicy",xt(n,e))})}var Lg=6,io=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Lg,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var so=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.beforeStateQueue=new ro(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ll,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Se(t)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield Qr.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let t=yield Xr(this,{idToken:e}),r=yield Ve._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var t;if(ie(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield Zr(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ig()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(ie(this.app))return Promise.reject(Be(this));let t=e?re(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return l(this,null,function*(){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return ie(this.app)?Promise.reject(Be(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ie(this.app)?Promise.reject(Be(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(Se(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Mg(this),t=new io(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ne("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Pg(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Se(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=yield Qr.create(this,[Se(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return l(this,null,function*(){var e;if(ie(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&vg(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ft(n){return re(n)}var ei=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Iu(t=>this.observer=t)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ai={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ug(n){ai=n}function Rl(n){return ai.loadJS(n)}function xg(){return ai.recaptchaEnterpriseScript}function Fg(){return ai.gapiScript}function Sl(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var oo=class{constructor(){this.enterprise=new ao}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},ao=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var jg="recaptcha-enterprise",Al="NO_RECAPTCHA",co=class{constructor(e){this.type=jg,this.auth=Ft(e)}verify(e="verify",t=!1){return l(this,null,function*(){function r(s){return l(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>l(null,null,function*(){Rg(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new eo(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;Ku(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Al)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oo().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&Ku(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xg();c.length!==0&&(c+=a),Rl(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function On(n,e,t,r=!1,i=!1){return l(this,null,function*(){let s=new co(n),o;if(i)o=Al;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function $g(n,e,t,r,i){return l(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield On(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>l(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield On(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield On(n,e,t);return r(n,a).catch(c=>l(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield On(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield On(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function So(n,e){let t=Fr(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Ue(s,e??{}))return i;ze(i,"already-initialized")}return t.initialize({options:e})}function Vg(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Se);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ao(n,e,t){let r=Ft(n);y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=Cl(e),{host:o,port:a}=Bg(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),y(Ue(u,r.config.emulator)&&Ue(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Tn(o)?(du(`${s}//${o}${c}`),hu("Auth",!0)):i||zg()}function Cl(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Bg(n){let e=Cl(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Zu(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Zu(o)}}}function Zu(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function zg(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ti=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Re("not implemented")}_getIdTokenResponse(e){return Re("not implemented")}_linkToIdToken(e,t){return Re("not implemented")}_getReauthenticationResolver(e){return Re("not implemented")}};function Hg(n,e){return l(this,null,function*(){return We(n,"POST","/v1/accounts:sendOobCode",xt(n,e))})}function Wg(n,e){return l(this,null,function*(){return Hg(n,e)})}function Ys(n,e){return l(this,null,function*(){return fl(n,"POST","/v1/accounts:signInWithIdp",xt(n,e))})}var ni=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var uo=class extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ut=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return l(this,null,function*(){let s=yield Ve._fromIdTokenResponse(e,r,i),o=Qu(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Qu(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Qu(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var lo=class n extends te{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function kl(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lo._fromErrorAndOperation(n,s,e,r):s})}function qg(n,e,t=!1){return l(this,null,function*(){let r=yield Mn(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ut._forOperation(n,"link",r)})}function Gg(n,e,t=!1){return l(this,null,function*(){let{auth:r}=n;if(ie(r.app))return Promise.reject(Be(r));let i="reauthenticate";try{let s=yield Mn(n,kl(r,i,e,n),t);y(s.idToken,r,"internal-error");let o=To(s.idToken);y(o,r,"internal-error");let{sub:a}=o;return y(n.uid===a,r,"user-mismatch"),Ut._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ze(r,"user-mismatch"),s}})}function Kg(n,e,t=!1){return l(this,null,function*(){if(ie(n.app))return Promise.reject(Be(n));let r="signIn",i=yield kl(n,r,e),s=yield Ut._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Jg(n,e){return l(this,null,function*(){return fl(n,"POST","/v1/accounts:signInWithCustomToken",xt(n,e))})}function Co(n,e){return l(this,null,function*(){if(ie(n.app))return Promise.reject(Be(n));let t=Ft(n),r=yield Jg(t,{token:e,returnSecureToken:!0}),i=yield Ut._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i})}function Yg(n,e,t){var r;y(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),y(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),y(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(y(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(y(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function ko(n,e,t){return l(this,null,function*(){let r=Ft(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Yg(r,i,t),yield $g(r,i,"getOobCode",Wg,"EMAIL_PASSWORD_PROVIDER")})}function Po(n,e,t,r){return re(n).onIdTokenChanged(e,t,r)}function Oo(n,e,t){return re(n).beforeAuthStateChanged(e,t)}function Do(n,e,t,r){return re(n).onAuthStateChanged(e,t,r)}function No(n){return re(n).signOut()}var ri="__sak";var ii=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ri,"1"),this.storage.removeItem(ri),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Xg=1e3,Zg=10,Qg=(()=>{class n extends ii{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tl(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Ng()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Zg):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Xg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return l(this,null,function*(){yield qe(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return l(this,null,function*(){let r=yield qe(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return l(this,null,function*(){yield qe(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Pl=Qg;var em=(()=>{class n extends ii{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Mo=em;function tm(n){return Promise.all(n.map(e=>l(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var nm=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return l(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield tm(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ol(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var ho=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=Ol("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ge(){return window}function rm(n){ge().location.href=n}function Dl(){return typeof ge().WorkerGlobalScope<"u"&&typeof ge().importScripts=="function"}function im(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function sm(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function om(){return Dl()?self:null}var Nl="firebaseLocalStorageDb",am=1,si="firebaseLocalStorage",Ml="fbase_key",dt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ci(n,e){return n.transaction([si],e?"readwrite":"readonly").objectStore(si)}function cm(){let n=indexedDB.deleteDatabase(Nl);return new dt(n).toPromise()}function fo(){let n=indexedDB.open(Nl,am);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(si,{keyPath:Ml})}catch(i){t(i)}}),n.addEventListener("success",()=>l(null,null,function*(){let r=n.result;r.objectStoreNames.contains(si)?e(r):(r.close(),yield cm(),e(yield fo()))}))})}function el(n,e,t){return l(this,null,function*(){let r=ci(n,!0).put({[Ml]:e,value:t});return new dt(r).toPromise()})}function um(n,e){return l(this,null,function*(){let t=ci(n,!1).get(e),r=yield new dt(t).toPromise();return r===void 0?null:r.value})}function tl(n,e){let t=ci(n,!0).delete(e);return new dt(t).toPromise()}var lm=800,dm=3,hm=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield fo(),this.db)})}_withRetries(t){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>dm)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return Dl()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=nm._getInstance(om()),this.receiver._subscribe("keyChanged",(t,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var t,r;if(this.activeServiceWorker=yield im(),!this.activeServiceWorker)return;this.sender=new ho(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||sm()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let t=yield fo();return yield el(t,ri,"1"),yield tl(t,ri),!0}catch{}return!1})}_withPendingWrite(t){return l(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>el(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return l(this,null,function*(){let r=yield this._withRetries(i=>um(i,t));return this.localCache[t]=r,r})}_remove(t){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>tl(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return l(this,null,function*(){let t=yield this._withRetries(s=>{let o=ci(s,!1).getAll();return new dt(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),lm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Ll=hm;var z_=Sl("rcb"),H_=new lt(3e4,6e4);function fm(n,e){return e?Se(e):(y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Un=class extends ti{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ys(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function pm(n){return Kg(n.auth,new Un(n),n.bypassAuthState)}function gm(n){let{auth:e,user:t}=n;return y(t,e,"internal-error"),Gg(t,new Un(n),n.bypassAuthState)}function mm(n){return l(this,null,function*(){let{auth:e,user:t}=n;return y(t,e,"internal-error"),qg(t,new Un(n),n.bypassAuthState)})}var po=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pm;case"linkViaPopup":case"linkViaRedirect":return mm;case"reauthViaPopup":case"reauthViaRedirect":return gm;default:ze(this.auth,"internal-error")}}resolve(e){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var W_=new lt(2e3,1e4);var vm="pendingRedirect",Gr=new Map,go=class n extends po{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=Gr.get(this.auth._key());if(!e){try{let r=(yield ym(this.resolver,this.auth))?yield qe(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Gr.set(this.auth._key(),e)}return this.bypassAuthState||Gr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return qe(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,qe(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function ym(n,e){return l(this,null,function*(){let t=_m(e),r=Im(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Em(n,e){Gr.set(n._key(),e)}function Im(n){return Se(n._redirectPersistence)}function _m(n){return qr(vm,n.config.apiKey,n.name)}function wm(n,e,t=!1){return l(this,null,function*(){if(ie(n.app))return Promise.reject(Be(n));let r=Ft(n),i=fm(r,e),o=yield new go(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Tm=10*60*1e3,mo=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bm(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ul(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ut(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tm&&this.cachedEventUids.clear(),this.cachedEventUids.has(nl(e))}saveEventToCache(e){this.cachedEventUids.add(nl(e)),this.lastProcessedEventTime=Date.now()}};function nl(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ul({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function bm(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ul(n);default:return!1}}function Rm(t){return l(this,arguments,function*(n,e={}){return We(n,"GET","/v1/projects",e)})}var Sm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Am=/^https?/;function Cm(n){return l(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Rm(n);for(let t of e)try{if(km(t))return}catch{}ze(n,"unauthorized-domain")})}function km(n){let e=Zs(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Am.test(t))return!1;if(Sm.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Pm=new lt(3e4,6e4);function rl(){let n=ge().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Om(n){return new Promise((e,t)=>{var r,i,s;function o(){rl(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rl(),t(ut(n,"network-request-failed"))},timeout:Pm.get()})}if(!((i=(r=ge().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ge().gapi)===null||s===void 0)&&s.load)o();else{let a=Sl("iframefcb");return ge()[a]=()=>{gapi.load?o():t(ut(n,"network-request-failed"))},Rl(`${Fg()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Kr=null,e})}var Kr=null;function Dm(n){return Kr=Kr||Om(n),Kr}var Nm=new lt(5e3,15e3),Mm="__/auth/iframe",Lm="emulator/auth/iframe",Um={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fm(n){let e=n.config;y(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Io(e,Lm):`https://${n.config.authDomain}/${Mm}`,r={apiKey:e.apiKey,appName:n.name,v:Dt},i=xm.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${bn(r).slice(1)}`}function jm(n){return l(this,null,function*(){let e=yield Dm(n),t=ge().gapi;return y(t,n,"internal-error"),e.open({where:document.body,url:Fm(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Um,dontclear:!0},r=>new Promise((i,s)=>l(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ut(n,"network-request-failed"),a=ge().setTimeout(()=>{s(o)},Nm.get());function c(){ge().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var $m={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vm=500,Bm=600,zm="_blank",Hm="http://localhost",oi=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Wm(n,e,t,r=Vm,i=Bm){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},$m),{width:r.toString(),height:i.toString(),top:s,left:o}),u=V().toLowerCase();t&&(a=yl(u)?zm:t),ml(u)&&(e=e||Hm,c.scrollbars="yes");let d=Object.entries(c).reduce((h,[m,C])=>`${h}${m}=${C},`,"");if(Dg(u)&&a!=="_self")return qm(e||"",a),new oi(null);let f=window.open(e||"",a,d);y(f,n,"popup-blocked");try{f.focus()}catch{}return new oi(f)}function qm(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Gm="__/auth/handler",Km="emulator/auth/handler",Jm=encodeURIComponent("fac");function il(n,e,t,r,i,s){return l(this,null,function*(){y(n.config.authDomain,n,"auth-domain-config-required"),y(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Dt,eventId:i};if(e instanceof ni){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Eu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof uo){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${Jm}=${encodeURIComponent(c)}`:"";return`${Ym(n)}?${bn(a).slice(1)}${u}`})}function Ym({config:n}){return n.emulator?Io(n,Km):`https://${n.authDomain}/${Gm}`}var Xs="webStorageSupport",vo=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mo,this._completeRedirectFn=wm,this._overrideRedirectResult=Em}_openPopup(e,t,r,i){return l(this,null,function*(){var s;He((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield il(e,t,r,Zs(),i);return Wm(e,o,Ol())})}_openRedirect(e,t,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield il(e,t,r,Zs(),i);return rm(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(He(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return l(this,null,function*(){let t=yield jm(e),r=new mo(e);return t.register("authEvent",i=>(y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xs,{type:Xs},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Xs];o!==void 0&&t(!!o),ze(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Cm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tl()||vl()||Ro()}},xl=vo;var sl="@firebase/auth",ol="1.10.7";var yo=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Xm(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zm(n){be(new J("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bl(n)},u=new so(r,i,s,c);return Vg(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),be(new J("auth-internal",e=>{let t=Ft(e.getProvider("auth").getImmediate());return(r=>new yo(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),U(sl,ol,Xm(n)),U(sl,ol,"esm2017")}var Qm=5*60,ev=bs("authIdTokenMaxAge")||Qm,al=null,tv=n=>e=>l(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ev)return;let i=t?.token;al!==i&&(al=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Lo(n=An()){let e=Fr(n,"auth");if(e.isInitialized())return e.getImmediate();let t=So(n,{popupRedirectResolver:xl,persistence:[Ll,Pl,Mo]}),r=bs("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=tv(s.toString());Oo(t,o,()=>o(t.currentUser)),Po(t,a=>o(a))}}let i=lu("auth");return i&&Ao(t,`http://${i}`),t}function nv(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ug({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=ut("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",nv().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zm("Browser");var Fl="auth",ht=class{constructor(e){return e}},Uo=class{constructor(){return Vr(Fl)}};var xo=new S("angularfire2.auth-instances");function Hv(n,e){let t=Vs(Fl,n,e);return t&&new ht(t)}function Wv(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ht(r)}}var qv={provide:Uo,deps:[[new ke,xo]]},Gv={provide:ht,useFactory:Hv,deps:[[new ke,xo],ct]};function Mw(n,...e){return U("angularfire",Mt.full,"auth"),_e([Gv,qv,{provide:xo,useFactory:Wv(n),multi:!0,deps:[D,Z,Lt,Cn,[new ke,zr],...e]}])}var Lw=pe(Lo,!0),jl=pe(_o,!0);var $l=pe(Do,!0);var Vl=pe(ko,!0,2);var Fo=pe(Co,!0,2);var Bl=pe(No,!0,2);var jo={production:!1,apiUrl:"http://localhost:8080/api",firebase:{apiKey:"AIzaSyD4LI-4_71UpF9OZDM_Tf6822O7fo7UxMQ",authDomain:"kaizen-x.firebaseapp.com",projectId:"kaizen-x",storageBucket:"kaizen-x.firebasestorage.app",messagingSenderId:"91285769542",appId:"1:91285769542:web:bb69a42e374da120b62947",measurementId:"G-3QTZL3CM1D"}};var zl=class n{http=p(nr);router=p(K);auth=p(ht);ngZone=p(D);currentUserSubject=new B(null);currentUser$=this.currentUserSubject.asObservable();tokenKey="authToken";userKey="authUser";firebaseUser=null;constructor(){this.loadStoredUser()}loadStoredUser(){let e=localStorage.getItem(this.tokenKey),t=localStorage.getItem(this.userKey);if(e&&t)try{let r=JSON.parse(t);this.currentUserSubject.next(r)}catch{this.clearStoredAuth()}}storeAuth(e){if(e.success&&e.data){localStorage.setItem(this.tokenKey,e.data.token);let t={id:e.data.uid,email:e.data.email,name:e.data.name};localStorage.setItem(this.userKey,JSON.stringify(t)),this.currentUserSubject.next(t)}}clearStoredAuth(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.userKey),this.currentUserSubject.next(null)}login(e,t){let r={email:e,password:t};return this.http.post(`${jo.apiUrl}/auth/login`,r).pipe(F(i=>{if(i.success&&i.data?.token)return O(Fo(this.auth,i.data.token)).pipe(N(s=>{this.firebaseUser=s.user,this.storeAuth(i),this.router.navigate(["/projects"])}),b(()=>{}));throw new Error(i.error||"Login failed")}),X(i=>{console.error("Login error:",i);let s=i.error?.error||i.message||"Login failed";return Ee(()=>new Error(s))}))}register(e,t,r){let i={email:e,password:t,name:r};return this.http.post(`${jo.apiUrl}/auth/register`,i).pipe(F(s=>{if(s.success&&s.data?.token)return O(Fo(this.auth,s.data.token)).pipe(N(o=>{this.firebaseUser=o.user,this.storeAuth(s),this.router.navigate(["/projects"])}),b(()=>{}));throw new Error(s.error||"Registration failed")}),X(s=>{console.error("Registration error:",s);let o=s.error?.error||s.message||"Registration failed";return Ee(()=>new Error(o))}))}resetPassword(e){return O(Vl(this.auth,e)).pipe(b(()=>{}),X(t=>{console.error("Firebase password reset error:",t);let r="Password reset failed";switch(t.code){case"auth/user-not-found":r="No user found with this email address";break;case"auth/invalid-email":r="Invalid email address";break;case"auth/too-many-requests":r="Too many requests. Please try again later";break;default:r=t.message||"Password reset failed"}return Ee(()=>new Error(r))}))}logout(){this.clearStoredAuth(),Bl(this.auth).then(()=>{this.firebaseUser=null,this.router.navigate(["/auth/login"])}).catch(e=>{console.error("Firebase sign out error:",e),this.router.navigate(["/auth/login"])})}getCurrentUser(){return this.currentUserSubject.value}getToken(){return localStorage.getItem(this.tokenKey)}getIdToken(){return l(this,null,function*(){if(this.auth.currentUser)try{return yield this.auth.currentUser.getIdToken()}catch(e){return console.error("Error getting Firebase ID token:",e),null}return null})}isAuthenticated(){return this.currentUser$.pipe(b(e=>!!e))}getUserData(){return this.currentUser$}isTokenExpired(){let e=this.getToken();if(!e)return!0;try{let t=JSON.parse(atob(e.split(".")[1])),r=Math.floor(Date.now()/1e3);return t.exp<r}catch(t){return console.error("Error checking token expiration:",t),!0}}checkAuthStatus(){this.isTokenExpired()&&this.logout()}getIdTokenObservable(){return new me(e=>{let t=this.ngZone.runOutsideAngular(()=>$l(this.auth,r=>{this.ngZone.run(()=>{r?this.ngZone.runOutsideAngular(()=>{jl(r).then(i=>{this.ngZone.run(()=>{e.next(i),e.complete()})},i=>{this.ngZone.run(()=>{e.error(i)})})}):(e.next(null),e.complete())})}));return()=>t()})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};export{sd as a,nr as b,Nd as c,Md as d,Ud as e,he as f,cs as g,K as h,Dr as i,ff as j,mf as k,vf as l,l_ as m,d_ as n,Mw as o,Lw as p,jo as q,zl as r};
