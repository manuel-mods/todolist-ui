import{a as mt}from"./chunk-IRWHQV2Y.js";import{a as gt}from"./chunk-ITIMRF4J.js";import{a as _t}from"./chunk-SVIYRKC5.js";import{a as lt}from"./chunk-WKW57PVX.js";import"./chunk-P2AP2LDR.js";import{b as V,c as T,d as F,e as Z,f as tt,g as et,i as nt,j as it,l as ot,m as ct,o as at,p as rt,q as st}from"./chunk-B6CTW34R.js";import{a as dt}from"./chunk-5IMW6SUT.js";import{f as Q,h as X,r as Y}from"./chunk-UEBHN7X3.js";import{$b as W,Ab as v,Cb as c,Cc as S,Db as i,Dc as E,Eb as g,Fa as q,Fb as u,Fc as U,Gb as M,Gc as K,Ha as P,Hb as s,Ic as D,Pb as G,Qb as l,Rb as O,Sb as k,Tb as H,Vb as N,Wb as $,Xb as B,Zb as L,ac as b,bc as R,cb as o,cc as w,ec as J,ga as j,ma as f,mb as I,qb as C,ua as m,va as p,xb as d,yb as y,zb as h}from"./chunk-HT5E4KE5.js";var A=class e{api=f(dt);addChecklistItem(n,t){return this.api.post(`/tasks/${n}/checklist`,t)}updateChecklistItem(n,t){return this.api.put(`/tasks/checklist/${n}`,t)}deleteChecklistItem(n){return this.api.delete(`/tasks/checklist/${n}`)}reorderChecklistItems(n,t){return this.api.put(`/tasks/${n}/checklist/reorder`,t)}getChecklistProgress(n){return this.api.get(`/tasks/${n}/checklist/progress`)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};function Pt(e,n){if(e&1&&(c(0,"div",12),l(1),i()),e&2){let t=s();o(),H(" ",t.completedCount(),"/",t.checklistItems().length," completed ")}}function kt(e,n){if(e&1&&(c(0,"div",13),g(1,"div",14),i()),e&2){let t=s();o(),y("width",t.progressPercentage(),"%")}}function ft(e,n){if(e&1){let t=u();c(0,"div",22)(1,"span"),l(2),i(),c(3,"div",23)(4,"button",24),M("click",function(){m(t);let r=s().$implicit,_=s();return p(_.startEdit(r))}),g(5,"i",25),i(),c(6,"button",26),M("click",function(){m(t);let r=s().$implicit,_=s();return p(_.deleteItem(r.id))}),g(7,"i",27),i()()()}if(e&2){let t=s().$implicit,a=s();o(),h("strikethrough",t.isCompleted),o(),O(t.title),o(2),d("disabled",a.updating().has(t.id)),o(2),d("disabled",a.updating().has(t.id))}}function xt(e,n){if(e&1){let t=u();c(0,"div",28)(1,"input",29,0),B("ngModelChange",function(r){m(t);let _=s(2);return $(_.editText,r)||(_.editText=r),p(r)}),M("keyup.enter",function(){m(t);let r=s().$implicit,_=s();return p(_.saveEdit(r))})("keyup.escape",function(){m(t);let r=s(2);return p(r.cancelEdit())}),i(),c(3,"div",30)(4,"button",31),M("click",function(){m(t);let r=s().$implicit,_=s();return p(_.saveEdit(r))}),g(5,"i",32),i(),c(6,"button",33),M("click",function(){m(t);let r=s(2);return p(r.cancelEdit())}),g(7,"i",34),i()()()}if(e&2){let t=s(2);o(),N("ngModel",t.editText)}}function ht(e,n){if(e&1){let t=u();c(0,"div",15)(1,"div",16)(2,"label",17)(3,"input",18),M("change",function(){let r=m(t).$implicit,_=s();return p(_.toggleItem(r))}),i(),g(4,"span",19),i(),C(5,ft,8,5,"div",20)(6,xt,8,1,"div",21),i()()}if(e&2){let t=n.$implicit,a=s();h("completed",t.isCompleted),o(3),d("checked",t.isCompleted)("disabled",a.updating().has(t.id)),o(2),d("ngIf",!a.editingItem()||a.editingItem()!==t.id),o(),d("ngIf",a.editingItem()===t.id)}}function bt(e,n){if(e&1){let t=u();c(0,"div",35)(1,"button",36),M("click",function(){m(t);let r=s();return p(r.showAddForm.set(!0))}),g(2,"i",37),l(3," Add checklist item "),i()()}}function vt(e,n){e&1&&g(0,"span",44)}function yt(e,n){e&1&&g(0,"i",32)}function wt(e,n){if(e&1){let t=u();c(0,"div",38)(1,"input",39,1),B("ngModelChange",function(r){m(t);let _=s();return $(_.newItemTitle,r)||(_.newItemTitle=r),p(r)}),M("keyup.enter",function(){m(t);let r=s();return p(r.addItem())})("keyup.escape",function(){m(t);let r=s();return p(r.cancelAdd())}),i(),c(3,"div",40)(4,"button",41),M("click",function(){m(t);let r=s();return p(r.addItem())}),C(5,vt,1,0,"span",42)(6,yt,1,0,"i",43),i(),c(7,"button",33),M("click",function(){m(t);let r=s();return p(r.cancelAdd())}),g(8,"i",34),i()()()}if(e&2){let t=s();o(),N("ngModel",t.newItemTitle),o(3),d("disabled",!t.newItemTitle.trim()||t.adding()),o(),d("ngIf",t.adding()),o(),d("ngIf",!t.adding())}}function Tt(e,n){e&1&&(c(0,"div",45),g(1,"i",46),c(2,"p"),l(3,"No checklist items yet"),i(),c(4,"small"),l(5,"Add items to track subtasks"),i()())}var z=class e{taskId=q.required();checklistItems=q.required();checklistService=f(A);editingItem=P(null);showAddForm=P(!1);updating=P(new Set);adding=P(!1);newItemTitle="";editText="";completedCount=()=>this.checklistItems().filter(n=>n.isCompleted).length;progressPercentage=()=>{let n=this.checklistItems().length;return n>0?Math.round(this.completedCount()/n*100):0};trackById(n,t){return t.id}toggleItem(n){this.updateItemStatus(n.id,!0),this.checklistService.updateChecklistItem(n.id,{isCompleted:!n.isCompleted}).subscribe({next:()=>{this.updateItemStatus(n.id,!1)},error:t=>{console.error("Error updating checklist item:",t),this.updateItemStatus(n.id,!1)}})}startEdit(n){this.editingItem.set(n.id),this.editText=n.title,setTimeout(()=>{let t=document.querySelector(".edit-input");t&&(t.focus(),t.select())},0)}saveEdit(n){let t=this.editText.trim();if(!t||t===n.title){this.cancelEdit();return}this.updateItemStatus(n.id,!0),this.checklistService.updateChecklistItem(n.id,{title:t}).subscribe({next:()=>{this.editingItem.set(null),this.editText="",this.updateItemStatus(n.id,!1)},error:a=>{console.error("Error updating checklist item:",a),this.updateItemStatus(n.id,!1)}})}cancelEdit(){this.editingItem.set(null),this.editText=""}addItem(){let n=this.newItemTitle.trim();n&&(this.adding.set(!0),this.checklistService.addChecklistItem(this.taskId(),{title:n}).subscribe({next:()=>{this.newItemTitle="",this.showAddForm.set(!1),this.adding.set(!1)},error:t=>{console.error("Error adding checklist item:",t),this.adding.set(!1)}}))}cancelAdd(){this.newItemTitle="",this.showAddForm.set(!1)}deleteItem(n){confirm("Are you sure you want to delete this checklist item?")&&(this.updateItemStatus(n,!0),this.checklistService.deleteChecklistItem(n).subscribe({next:()=>{this.updateItemStatus(n,!1)},error:t=>{console.error("Error deleting checklist item:",t),this.updateItemStatus(n,!1)}}))}updateItemStatus(n,t){this.updating.update(a=>{let r=new Set(a);return t?r.add(n):r.delete(n),r})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=I({type:e,selectors:[["app-checklist"]],inputs:{taskId:[1,"taskId"],checklistItems:[1,"checklistItems"]},decls:12,vars:7,consts:[["editInput",""],["addInput",""],[1,"checklist-container"],[1,"checklist-header"],["class","progress-info",4,"ngIf"],["class","progress-bar",4,"ngIf"],[1,"checklist-items"],["class","checklist-item",3,"completed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"add-item"],["class","add-form",4,"ngIf"],["class","add-form-expanded",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"progress-info"],[1,"progress-bar"],[1,"progress-fill"],[1,"checklist-item"],[1,"item-content"],[1,"checkbox-wrapper"],["type","checkbox",3,"change","checked","disabled"],[1,"checkmark"],["class","item-text",4,"ngIf"],["class","item-edit",4,"ngIf"],[1,"item-text"],[1,"item-actions"],["title","Edit item",1,"edit-btn",3,"click","disabled"],[1,"fas","fa-edit"],["title","Delete item",1,"delete-btn",3,"click","disabled"],[1,"fas","fa-trash"],[1,"item-edit"],["type","text",1,"edit-input",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],[1,"edit-actions"],[1,"save-btn",3,"click"],[1,"fas","fa-check"],[1,"cancel-btn",3,"click"],[1,"fas","fa-times"],[1,"add-form"],[1,"add-btn",3,"click"],[1,"fas","fa-plus"],[1,"add-form-expanded"],["type","text","placeholder","Enter checklist item...",1,"add-input",3,"ngModelChange","keyup.enter","keyup.escape","ngModel"],[1,"add-actions"],[1,"save-btn",3,"click","disabled"],["class","spinner",4,"ngIf"],["class","fas fa-check",4,"ngIf"],[1,"spinner"],[1,"empty-state"],[1,"fas","fa-list-check"]],template:function(t,a){t&1&&(c(0,"div",2)(1,"div",3)(2,"h4"),l(3,"Checklist"),i(),C(4,Pt,2,2,"div",4),i(),C(5,kt,2,2,"div",5),c(6,"div",6),C(7,ht,7,6,"div",7),i(),c(8,"div",8),C(9,bt,4,0,"div",9)(10,wt,9,4,"div",10),i(),C(11,Tt,6,0,"div",11),i()),t&2&&(o(4),d("ngIf",a.checklistItems().length>0),o(),d("ngIf",a.checklistItems().length>0),o(2),d("ngForOf",a.checklistItems())("ngForTrackBy",a.trackById),o(2),d("ngIf",!a.showAddForm()),o(),d("ngIf",a.showAddForm()),o(),d("ngIf",a.checklistItems().length===0))},dependencies:[D,S,E,rt,V,F,tt],styles:['.checklist-container[_ngcontent-%COMP%]   .checklist-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.checklist-container[_ngcontent-%COMP%]   .checklist-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#1f2937}.checklist-container[_ngcontent-%COMP%]   .checklist-header[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;font-weight:500}.checklist-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:#f3f4f6;border-radius:4px;overflow:hidden;margin-bottom:16px}.checklist-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#10b981,#059669);border-radius:4px;transition:width .3s ease}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]{margin-bottom:8px;padding:12px;border:1px solid #e5e7eb;border-radius:8px;background:#fff;transition:all .2s ease}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]:hover{border-color:#d1d5db;box-shadow:0 1px 3px #0000001a}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item.completed[_ngcontent-%COMP%]{background:#f9fafb;border-color:#d1d5db}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;flex-shrink:0;margin-top:2px}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #d1d5db;border-radius:4px;position:relative;transition:all .2s ease}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;left:6px;top:2px;width:6px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg);opacity:0;transition:opacity .2s ease}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#10b981;border-color:#10b981}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{opacity:1}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled + .checkmark[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-between;align-items:center;gap:8px}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#374151;line-height:1.5;word-break:break-word}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   span.strikethrough[_ngcontent-%COMP%]{text-decoration:line-through;color:#9ca3af}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;gap:4px;opacity:0;transition:opacity .2s ease}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:4px 6px;border-radius:4px;cursor:pointer;font-size:12px;transition:all .2s ease}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button.edit-btn[_ngcontent-%COMP%]{color:#6b7280}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button.edit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;color:#374151}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button.delete-btn[_ngcontent-%COMP%]{color:#dc2626}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button.delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef2f2}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]:hover   .item-actions[_ngcontent-%COMP%]{opacity:1}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]{flex:1;display:flex;gap:8px;align-items:center}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]   .edit-input[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]   .edit-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;padding:6px 8px;border-radius:4px;cursor:pointer;font-size:12px;transition:all .2s ease}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   button.save-btn[_ngcontent-%COMP%]{color:#10b981;border-color:#10b981}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   button.save-btn[_ngcontent-%COMP%]:hover{background:#f0fdf4}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]{color:#6b7280}.checklist-container[_ngcontent-%COMP%]   .checklist-items[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-edit[_ngcontent-%COMP%]   .edit-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]:hover{background:#f9fafb}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]{margin-top:16px}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{width:100%;background:none;border:1px dashed #d1d5db;padding:12px;border-radius:8px;cursor:pointer;color:#6b7280;font-size:14px;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{border-color:#9ca3af;color:#374151;background:#f9fafb}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;padding:12px;border:1px solid #d1d5db;border-radius:8px;background:#fff}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-input[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;padding:6px 8px;border-radius:4px;cursor:pointer;font-size:12px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-actions[_ngcontent-%COMP%]   button.save-btn[_ngcontent-%COMP%]{color:#10b981;border-color:#10b981}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-actions[_ngcontent-%COMP%]   button.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f0fdf4}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-actions[_ngcontent-%COMP%]   button.save-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:12px;height:12px;border:1px solid #10b981;border-top:1px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]{color:#6b7280}.checklist-container[_ngcontent-%COMP%]   .add-item[_ngcontent-%COMP%]   .add-form-expanded[_ngcontent-%COMP%]   .add-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]:hover{background:#f9fafb}.checklist-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:32px 16px;color:#9ca3af}.checklist-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;color:#d1d5db}.checklist-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin:0 0 4px;color:#6b7280}.checklist-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:14px;color:#9ca3af}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.checklist-container[_ngcontent-%COMP%]   .checklist-item[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-text[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{opacity:1}}']})};var It=(e,n,t)=>[e,n,t],St=()=>[];function Et(e,n){if(e&1&&(c(0,"div")(1,"h1",49),l(2),i()()),e&2){let t=s(2);o(2),O(t.task().title)}}function Dt(e,n){if(e&1&&(c(0,"div",50),g(1,"input",51),i()),e&2){let t=s(2);o(),d("formGroup",t.editForm)}}function Vt(e,n){if(e&1){let t=u();c(0,"button",52),M("click",function(){m(t);let r=s(2);return p(r.toggleEdit())}),g(1,"i",53),l(2," Edit "),i()}}function Ft(e,n){if(e&1){let t=u();c(0,"button",54),M("click",function(){m(t);let r=s(2);return p(r.deleteTask())}),g(1,"i",48),l(2," Delete "),i()}}function At(e,n){if(e&1){let t=u();c(0,"button",55),M("click",function(){m(t);let r=s(2);return p(r.saveTask())}),g(1,"i",56),l(2," Save "),i()}if(e&2){let t=s(2);d("disabled",t.editForm.invalid)}}function zt(e,n){if(e&1){let t=u();c(0,"button",52),M("click",function(){m(t);let r=s(2);return p(r.toggleEdit())}),g(1,"i",57),l(2," Cancel "),i()}}function qt(e,n){if(e&1&&(c(0,"p"),l(1),i()),e&2){let t=s(3);o(),O(t.task().description)}}function Nt(e,n){e&1&&(c(0,"p",60),l(1,"No description provided"),i())}function $t(e,n){if(e&1&&(c(0,"div",58),C(1,qt,2,1,"p",59)(2,Nt,2,0,"ng-template",null,0,J),i()),e&2){let t=G(3),a=s(2);o(),d("ngIf",a.task().description)("ngIfElse",t)}}function Bt(e,n){if(e&1&&(c(0,"div"),g(1,"textarea",61),i()),e&2){let t=s(2);o(),d("formGroup",t.editForm)}}function Rt(e,n){if(e&1&&(c(0,"div"),g(1,"app-checklist",62),i()),e&2){let t=s(3);o(),d("taskId",t.task().id)("checklistItems",t.task().checklistItems||L(2,St))}}function jt(e,n){if(e&1){let t=u();c(0,"div",21)(1,"div",24)(2,"h3"),l(3,"Checklist"),i(),c(4,"button",25),M("click",function(){m(t);let r=s(2);return p(r.toggleChecklist())}),g(5,"i",26),i()(),C(6,Rt,2,3,"div",13),i()}if(e&2){let t=s(2);o(5),h("fa-chevron-down",!t.showChecklist())("fa-chevron-up",t.showChecklist()),o(),d("ngIf",t.showChecklist())}}function Gt(e,n){e&1&&(c(0,"span",69),l(1,"*"),i())}function Ht(e,n){if(e&1){let t=u();c(0,"div",70)(1,"input",71),M("change",function(r){m(t);let _=s().$implicit,x=s(3);return p(x.updateCustomField(_.id,r.target.value))}),i()()}if(e&2){let t=s().$implicit,a=s(3);o(),d("value",a.getCustomFieldValue(t.id))("placeholder","Enter "+t.name.toLowerCase())}}function Lt(e,n){if(e&1&&(c(0,"option",75),l(1),i()),e&2){let t=n.$implicit;d("value",t),o(),O(t)}}function Wt(e,n){if(e&1){let t=u();c(0,"div",70)(1,"select",72),M("change",function(r){m(t);let _=s().$implicit,x=s(3);return p(x.updateCustomField(_.id,r.target.value))}),c(2,"option",73),l(3),i(),C(4,Lt,2,2,"option",74),i()()}if(e&2){let t=s().$implicit,a=s(3);o(),d("value",a.getCustomFieldValue(t.id)),o(2),k("Select ",t.name,""),o(),d("ngForOf",t.options)}}function Jt(e,n){if(e&1){let t=u();c(0,"div",70)(1,"label",76)(2,"input",77),M("change",function(r){m(t);let _=s().$implicit,x=s(3);return p(x.updateCustomField(_.id,r.target.checked))}),i(),g(3,"span",78),l(4),i()()}if(e&2){let t=s().$implicit,a=s(3);o(2),d("checked",a.getCustomFieldValue(t.id)),o(2),k(" Enable ",t.name," ")}}function Ut(e,n){if(e&1){let t=u();c(0,"label",81)(1,"input",82),M("change",function(){let r=m(t).$implicit,_=s(2).$implicit,x=s(3);return p(x.updateCustomField(_.id,r))}),i(),g(2,"span",83),l(3),i()}if(e&2){let t=n.$implicit,a=s(2).$implicit,r=s(3);o(),d("name","field_"+a.id)("value",t)("checked",r.getCustomFieldValue(a.id)===t),o(2),k(" ",t," ")}}function Kt(e,n){if(e&1&&(c(0,"div",70)(1,"div",79),C(2,Ut,4,4,"label",80),i()()),e&2){let t=s().$implicit;o(2),d("ngForOf",t.options)}}function Qt(e,n){if(e&1&&(c(0,"div",65)(1,"label",66),l(2),C(3,Gt,2,0,"span",67),i(),C(4,Ht,2,2,"div",68)(5,Wt,5,3,"div",68)(6,Jt,5,2,"div",68)(7,Kt,3,1,"div",68),i()),e&2){let t=n.$implicit;o(2),k(" ",t.name," "),o(),d("ngIf",t.required),o(),d("ngIf",t.type==="text"),o(),d("ngIf",t.type==="select"),o(),d("ngIf",t.type==="checkbox"),o(),d("ngIf",t.type==="radio")}}function Xt(e,n){if(e&1&&(c(0,"div",63),C(1,Qt,8,6,"div",64),i()),e&2){let t=s(2);o(),d("ngForOf",t.customFields())}}function Yt(e,n){if(e&1){let t=u();c(0,"div")(1,"app-task-attachments",84),M("attachmentsChanged",function(r){m(t);let _=s(2);return p(_.onAttachmentsChanged(r))}),i()()}if(e&2){let t=s(2);o(),d("taskId",t.task().id)("readonly",!1)}}function Zt(e,n){e&1&&g(0,"i",33)}function te(e,n){e&1&&g(0,"i",99)}function ee(e,n){e&1&&g(0,"i",100)}function ne(e,n){if(e&1&&(c(0,"div",101),l(1),i()),e&2){let t=s().$implicit;o(),k(" ",t.newValue," ")}}function ie(e,n){if(e&1&&(c(0,"div",102)(1,"span",103),g(2,"i"),l(3),i(),g(4,"i",104),c(5,"span",103),g(6,"i"),l(7),i()()),e&2){let t=s().$implicit,a=s(2);o(),y("background-color",a.getStatusColor(t.oldValue||"")),o(),v(a.getStatusIcon(t.oldValue||"")),o(),k(" ",t.oldValue," "),o(2),y("background-color",a.getStatusColor(t.newValue||"")),o(),v(a.getStatusIcon(t.newValue||"")),o(),k(" ",t.newValue," ")}}function oe(e,n){if(e&1&&(c(0,"div",85)(1,"div",86)(2,"div",87),C(3,Zt,1,0,"i",88)(4,te,1,0,"i",89)(5,ee,1,0,"i",90),i()(),c(6,"div",91)(7,"div",92)(8,"span",93),l(9),i(),c(10,"span",94),l(11),i(),c(12,"span",95),l(13),b(14,"date"),i()(),c(15,"div",96),C(16,ne,2,1,"div",97)(17,ie,8,10,"div",98),i()()()),e&2){let t=n.$implicit,a=s(2);o(2),v(t.changeType),o(),d("ngIf",t.changeType==="comment"),o(),d("ngIf",t.changeType==="status_change"),o(),d("ngIf",t.changeType==="assignment"),o(4),O((t.user==null?null:t.user.name)||(t.user==null?null:t.user.email)),o(2),O(a.formatChangeType(t.changeType)),o(2),O(w(14,10,t.createdAt,"MMM d, h:mm a")),o(3),d("ngIf",t.changeType==="comment"),o(),d("ngIf",t.changeType==="status_change")}}function ce(e,n){if(e&1){let t=u();c(0,"button",105),M("click",function(){let r=m(t).$implicit,_=s(2);return p(_.updateStatus(r))}),g(1,"i"),l(2),b(3,"titlecase"),i()}if(e&2){let t=n.$implicit,a=s(2);h("active",a.task().status===t),o(),v(a.getStatusIcon(t)),o(),k(" ",R(3,5,t.replace("_"," "))," ")}}function ae(e,n){e&1&&(c(0,"span"),l(1,"\u{1F534}"),i())}function re(e,n){e&1&&(c(0,"span"),l(1,"\u{1F7E1}"),i())}function se(e,n){e&1&&(c(0,"span"),l(1,"\u{1F7E2}"),i())}function le(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Priority"),i(),c(3,"span",106),C(4,ae,2,0,"span",13)(5,re,2,0,"span",13)(6,se,2,0,"span",13),l(7),b(8,"titlecase"),i()()),e&2){let t=s(2);o(3),v("priority-"+t.task().priority),o(),d("ngIf",t.task().priority==="high"),o(),d("ngIf",t.task().priority==="medium"),o(),d("ngIf",t.task().priority==="low"),o(),k(" ",R(8,6,t.task().priority)," ")}}function de(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Assigned To"),i(),c(3,"span"),l(4),i()()),e&2){let t=s(2);o(4),O(t.task().assignedTo)}}function _e(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Due Date"),i(),c(3,"span"),l(4),b(5,"date"),i()()),e&2){let t=s(2);o(4),O(w(5,1,t.task().dueDate,"MMM d, yyyy"))}}function ge(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Estimated Hours"),i(),c(3,"span"),l(4),i()()),e&2){let t=s(2);o(4),k("",t.task().estimatedHours,"h")}}function me(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Actual Hours"),i(),c(3,"span"),l(4),i()()),e&2){let t=s(2);o(4),k("",t.task().actualHours,"h")}}function pe(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Story Points"),i(),c(3,"span",107),l(4),i()()),e&2){let t=s(2);o(4),O(t.task().storyPoints)}}function Ce(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Epic"),i(),c(3,"span"),l(4),i()()),e&2){let t=s(2);o(4),O(t.task().epic)}}function Me(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Sprint"),i(),c(3,"span"),l(4),i()()),e&2){let t=s(2);o(4),O(t.task().sprint)}}function ue(e,n){if(e&1&&(c(0,"div",42)(1,"label"),l(2,"Reporter"),i(),c(3,"span"),l(4),i()()),e&2){let t=s(2);o(4),O(t.task().reporter)}}function Oe(e,n){if(e&1&&(c(0,"span",110),l(1),i()),e&2){let t=n.$implicit;o(),k(" ",t," ")}}function Pe(e,n){if(e&1&&(c(0,"div",37)(1,"h4"),l(2,"Labels"),i(),c(3,"div",108),C(4,Oe,2,1,"span",109),i()()),e&2){let t=s(2);o(4),d("ngForOf",t.task().labels)}}function ke(e,n){if(e&1&&(c(0,"div",113),l(1),i()),e&2){let t=n.$implicit;o(),k(" ",t," ")}}function fe(e,n){if(e&1&&(c(0,"div",37)(1,"h4"),l(2,"Watchers"),i(),c(3,"div",111),C(4,ke,2,1,"div",112),i()()),e&2){let t=s(2);o(4),d("ngForOf",t.task().watchers)}}function xe(e,n){if(e&1){let t=u();c(0,"div",4)(1,"div",5)(2,"div",6)(3,"button",7),M("click",function(){m(t);let r=s();return p(r.goBack())}),g(4,"i",8),i(),c(5,"div",9)(6,"div",10)(7,"span",11),l(8),i(),c(9,"span",12),l(10),i()(),C(11,Et,3,1,"div",13)(12,Dt,2,1,"div",14),i()(),c(13,"div",15),C(14,Vt,3,0,"button",16)(15,Ft,3,0,"button",17)(16,At,3,1,"button",18)(17,zt,3,0,"button",16),i()(),c(18,"div",19)(19,"div",20)(20,"div",21)(21,"h3"),l(22,"Description"),i(),C(23,$t,4,2,"div",22)(24,Bt,2,1,"div",13),i(),C(25,jt,7,5,"div",23),c(26,"div",21)(27,"div",24)(28,"h3"),l(29,"Custom Fields"),i(),c(30,"button",25),M("click",function(){m(t);let r=s();return p(r.toggleCustomFields())}),g(31,"i",26),i()(),C(32,Xt,2,1,"div",27),i(),c(33,"div",21)(34,"div",24)(35,"h3"),l(36,"Attachments"),i(),c(37,"button",25),M("click",function(){m(t);let r=s();return p(r.toggleAttachments())}),g(38,"i",26),i()(),C(39,Yt,2,2,"div",13),i(),c(40,"div",21)(41,"h3"),l(42,"Comments & Activity"),i(),c(43,"div",28)(44,"form",29),M("ngSubmit",function(){m(t);let r=s();return p(r.addComment())}),c(45,"div",30),g(46,"textarea",31),c(47,"button",32),g(48,"i",33),l(49," Add Comment "),i()()()(),c(50,"div",34),C(51,oe,18,13,"div",35),i()()(),c(52,"div",36)(53,"div",37)(54,"h4"),l(55,"Status"),i(),c(56,"div",38),C(57,ce,4,7,"button",39),i()(),c(58,"div",37)(59,"h4"),l(60,"Details"),i(),c(61,"div",40),C(62,le,9,8,"div",41)(63,de,5,1,"div",41)(64,_e,6,4,"div",41)(65,ge,5,1,"div",41)(66,me,5,1,"div",41)(67,pe,5,1,"div",41)(68,Ce,5,1,"div",41)(69,Me,5,1,"div",41)(70,ue,5,1,"div",41),c(71,"div",42)(72,"label"),l(73,"Created"),i(),c(74,"span"),l(75),b(76,"date"),i()(),c(77,"div",42)(78,"label"),l(79,"Updated"),i(),c(80,"span"),l(81),b(82,"date"),i()(),c(83,"div",42)(84,"label"),l(85,"Project"),i(),c(86,"span"),l(87),i()()()(),C(88,Pe,5,1,"div",43)(89,fe,5,1,"div",43),c(90,"div",37)(91,"h4"),l(92,"Actions"),i(),c(93,"div",44)(94,"button",45),g(95,"i",46),l(96," Duplicate "),i(),c(97,"button",45),g(98,"i",47),l(99," Share "),i(),c(100,"button",45),g(101,"i",48),l(102," Delete "),i()()()()()()}if(e&2){let t,a,r,_=s();o(8),k("TASK-",_.task().id,""),o(2),O(_.task().projectId),o(),d("ngIf",!_.isEditing()),o(),d("ngIf",_.isEditing()),o(2),d("ngIf",!_.isEditing()),o(),d("ngIf",!_.isEditing()),o(),d("ngIf",_.isEditing()),o(),d("ngIf",_.isEditing()),o(6),d("ngIf",!_.isEditing()),o(),d("ngIf",_.isEditing()),o(),d("ngIf",((t=_.task())==null||t.checklistItems==null?null:t.checklistItems.length)||_.showChecklist()),o(6),h("fa-chevron-down",!_.showCustomFields())("fa-chevron-up",_.showCustomFields()),o(),d("ngIf",_.showCustomFields()),o(6),h("fa-chevron-down",!_.showAttachments())("fa-chevron-up",_.showAttachments()),o(),d("ngIf",_.showAttachments()),o(5),d("formGroup",_.commentForm),o(3),d("disabled",_.commentForm.invalid),o(4),d("ngForOf",_.comments())("ngForTrackBy",_.trackComment),o(6),d("ngForOf",W(46,It,_.TaskStatus.CREATED,_.TaskStatus.IN_PROGRESS,_.TaskStatus.FINISHED)),o(5),d("ngIf",_.task().priority),o(),d("ngIf",_.task().assignedTo),o(),d("ngIf",_.task().dueDate),o(),d("ngIf",_.task().estimatedHours),o(),d("ngIf",_.task().actualHours),o(),d("ngIf",_.task().storyPoints),o(),d("ngIf",_.task().epic),o(),d("ngIf",_.task().sprint),o(),d("ngIf",_.task().reporter),o(5),O(w(76,40,_.task().createdAt,"MMM d, yyyy")),o(6),O(w(82,43,_.task().updatedAt,"MMM d, yyyy")),o(6),O(_.task().projectId),o(),d("ngIf",(a=_.task())==null||a.labels==null?null:a.labels.length),o(),d("ngIf",(r=_.task())==null||r.watchers==null?null:r.watchers.length)}}function he(e,n){e&1&&(c(0,"div",114),g(1,"i",115),c(2,"p"),l(3,"Loading task..."),i()())}function be(e,n){if(e&1){let t=u();c(0,"div",116)(1,"div",117),l(2),i(),c(3,"button",118),M("click",function(){m(t);let r=s();return p(r.goBack())}),g(4,"i",8),l(5," Go Back "),i()()}if(e&2){let t=s();o(2),k(" ",t.error()," ")}}var Ct=class e{route=f(Q);router=f(X);taskService=f(_t);authService=f(Y);confirmService=f(gt);fb=f(at);task=P(null);comments=P([]);customFields=P([]);fieldValues=P([]);loading=P(!0);error=P(null);commentForm;editForm;isEditing=P(!1);showCustomFields=P(!1);showChecklist=P(!0);showAttachments=P(!0);mockComments=[{id:1,taskId:1,changedBy:"user1",changeType:"comment",newValue:"This task needs to be reviewed before implementation.",createdAt:new Date("2024-01-15T10:30:00"),user:{id:"user1",email:"john@example.com",name:"John Doe"}},{id:2,taskId:1,changedBy:"user2",changeType:"status_change",oldValue:"CREATED",newValue:"IN_PROGRESS",createdAt:new Date("2024-01-16T09:15:00"),user:{id:"user2",email:"jane@example.com",name:"Jane Smith"}},{id:3,taskId:1,changedBy:"user1",changeType:"comment",newValue:"I've started working on this. Should be done by tomorrow.",createdAt:new Date("2024-01-16T14:20:00"),user:{id:"user1",email:"john@example.com",name:"John Doe"}}];mockCustomFields=[{id:1,name:"Priority",type:"select",options:["Low","Medium","High","Critical"],required:!0,defaultValue:"Medium"},{id:2,name:"Assignee",type:"select",options:["John Doe","Jane Smith","Bob Johnson"],required:!1},{id:3,name:"Story Points",type:"select",options:["1","2","3","5","8","13"],required:!1},{id:4,name:"Labels",type:"text",required:!1},{id:5,name:"Blocked",type:"checkbox",required:!1,defaultValue:!1}];TaskStatus=lt;constructor(){this.commentForm=this.fb.group({comment:["",[T.required,T.minLength(1)]]}),this.editForm=this.fb.group({title:["",[T.required,T.minLength(3)]],description:[""]})}ngOnInit(){let n=this.route.snapshot.params.id;n&&this.loadTask(parseInt(n)),this.comments.set(this.mockComments),this.customFields.set(this.mockCustomFields)}loadTask(n){this.loading.set(!0),this.taskService.getTask(n).subscribe({next:t=>{this.task.set(t),this.editForm.patchValue({title:t.title,description:t.description}),this.loading.set(!1)},error:t=>{this.error.set(t.message),this.loading.set(!1)}})}goBack(){this.router.navigate(["/projects"])}toggleEdit(){if(this.isEditing.update(n=>!n),!this.isEditing()){let n=this.task();n&&this.editForm.patchValue({title:n.title,description:n.description})}}toggleCustomFields(){this.showCustomFields.update(n=>!n)}toggleChecklist(){this.showChecklist.update(n=>!n)}toggleAttachments(){this.showAttachments.update(n=>!n)}onAttachmentsChanged(n){console.log("Attachments changed:",n)}saveTask(){if(this.editForm.invalid||!this.task())return;let n=this.task().id;this.taskService.updateTask(n,this.editForm.value).subscribe({next:t=>{this.task.set(t),this.isEditing.set(!1)},error:t=>{this.error.set(t.message)}})}updateStatus(n){let t=this.task(),a=this.authService.getCurrentUser();!t||!a||this.taskService.updateTaskStatus(t.id,{newStatus:n,userId:a.id}).subscribe({next:r=>{this.task.set(r),this.addMockStatusChange(t.status,n)},error:r=>{this.error.set(r.message)}})}addComment(){if(this.commentForm.invalid)return;let n=this.authService.getCurrentUser(),t=this.task();if(!n||!t)return;let a={comment:this.commentForm.value.comment,userId:n.id};this.taskService.addComment(t.id,a).subscribe({next:()=>{let r={id:this.comments().length+1,taskId:t.id,changedBy:n.id,changeType:"comment",newValue:a.comment,createdAt:new Date,user:{id:n.id,email:n.email,name:n.name}};this.comments.update(_=>[..._,r]),this.commentForm.reset()},error:r=>{this.error.set(r.message)}})}addMockStatusChange(n,t){let a=this.authService.getCurrentUser();if(!a)return;let r={id:this.comments().length+1,taskId:this.task().id,changedBy:a.id,changeType:"status_change",oldValue:n,newValue:t,createdAt:new Date,user:{id:a.id,email:a.email,name:a.name}};this.comments.update(_=>[..._,r])}getStatusColor(n){switch(n){case"CREATED":return"#f39c12";case"IN_PROGRESS":return"#3498db";case"FINISHED":return"#27ae60";default:return"#95a5a6"}}getStatusIcon(n){switch(n){case"CREATED":return"fa-circle";case"IN_PROGRESS":return"fa-clock";case"FINISHED":return"fa-check-circle";default:return"fa-question-circle"}}formatChangeType(n){switch(n){case"comment":return"commented";case"status_change":return"changed status";case"assignment":return"assigned";default:return n}}getCustomFieldValue(n){let t=this.fieldValues().find(r=>r.fieldId===n),a=this.customFields().find(r=>r.id===n);return t?.value??a?.defaultValue??""}updateCustomField(n,t){this.fieldValues.update(a=>{let r=a.findIndex(x=>x.fieldId===n),_={fieldId:n,taskId:this.task().id,value:t};return r>=0?(a[r]=_,[...a]):[...a,_]})}trackComment(n,t){return t.id}deleteTask(){let n=this.task();if(!n){this.error.set("No task available to delete");return}this.confirmService.confirmWithAction({title:"Delete Task",message:`Are you sure you want to delete "${n.title}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger"},()=>this.taskService.deleteTask(n.id)).subscribe({next:t=>{t!==null&&this.router.navigate(["/tasks"])},error:t=>{console.error("Error deleting task:",t),this.error.set("Failed to delete task. Please try again.")}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=I({type:e,selectors:[["app-task-detail"]],decls:3,vars:3,consts:[["noDescription",""],["class","task-detail-container",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[1,"task-detail-container"],[1,"task-header"],[1,"header-left"],[1,"back-btn",3,"click"],[1,"fas","fa-arrow-left"],[1,"task-title-section"],[1,"task-meta"],[1,"task-id"],[1,"task-project"],[4,"ngIf"],["class","edit-title",4,"ngIf"],[1,"header-actions"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-danger me-2",3,"click",4,"ngIf"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"task-content"],[1,"main-content"],[1,"section"],["class","description-content",4,"ngIf"],["class","section",4,"ngIf"],[1,"section-header"],[1,"toggle-btn",3,"click"],[1,"fas"],["class","custom-fields",4,"ngIf"],[1,"add-comment"],[3,"ngSubmit","formGroup"],[1,"comment-input-group"],["formControlName","comment","rows","3","placeholder","Add a comment...",1,"comment-input"],["type","submit",1,"btn-primary",3,"disabled"],[1,"fas","fa-comment"],[1,"activity-timeline"],["class","timeline-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sidebar"],[1,"sidebar-section"],[1,"status-selector"],["class","status-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"quick-fields"],["class","quick-field",4,"ngIf"],[1,"quick-field"],["class","sidebar-section",4,"ngIf"],[1,"action-buttons"],[1,"action-btn"],[1,"fas","fa-copy"],[1,"fas","fa-share"],[1,"fas","fa-trash"],[1,"task-title"],[1,"edit-title"],["type","text","formControlName","title","placeholder","Task title",1,"title-input",3,"formGroup"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-danger","me-2",3,"click"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-save"],[1,"fas","fa-times"],[1,"description-content"],[4,"ngIf","ngIfElse"],[1,"no-description"],["formControlName","description","rows","4","placeholder","Add a description...",1,"description-input",3,"formGroup"],[3,"taskId","checklistItems"],[1,"custom-fields"],["class","field-row",4,"ngFor","ngForOf"],[1,"field-row"],[1,"field-label"],["class","required",4,"ngIf"],["class","field-control",4,"ngIf"],[1,"required"],[1,"field-control"],["type","text",1,"form-control",3,"change","value","placeholder"],[1,"form-control",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"checkbox-label"],["type","checkbox",3,"change","checked"],[1,"checkmark"],[1,"radio-group"],["class","radio-label",4,"ngFor","ngForOf"],[1,"radio-label"],["type","radio",3,"change","name","value","checked"],[1,"radio-mark"],[3,"attachmentsChanged","taskId","readonly"],[1,"timeline-item"],[1,"timeline-marker"],[1,"marker-icon"],["class","fas fa-comment",4,"ngIf"],["class","fas fa-exchange-alt",4,"ngIf"],["class","fas fa-user",4,"ngIf"],[1,"timeline-content"],[1,"activity-header"],[1,"user-name"],[1,"activity-action"],[1,"activity-time"],[1,"activity-body"],["class","comment-content",4,"ngIf"],["class","status-change",4,"ngIf"],[1,"fas","fa-exchange-alt"],[1,"fas","fa-user"],[1,"comment-content"],[1,"status-change"],[1,"status-badge"],[1,"fas","fa-arrow-right","arrow"],[1,"status-btn",3,"click"],[1,"priority-badge"],[1,"story-points-badge"],[1,"labels-container"],["class","label-badge",4,"ngFor","ngForOf"],[1,"label-badge"],[1,"watchers-container"],["class","watcher-item",4,"ngFor","ngForOf"],[1,"watcher-item"],[1,"loading-container"],[1,"fas","fa-spinner","fa-spin"],[1,"error-container"],[1,"alert"],[1,"btn","btn-primary",3,"click"]],template:function(t,a){t&1&&C(0,xe,103,50,"div",1)(1,he,4,0,"div",2)(2,be,6,1,"div",3),t&2&&(d("ngIf",a.task()),o(),d("ngIf",a.loading()),o(),d("ngIf",a.error()))},dependencies:[D,S,E,U,K,st,et,ot,ct,V,F,Z,nt,it,z,mt],styles:['.task-detail-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f5f5f5}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e1e4e8;padding:20px 30px;display:flex;justify-content:space-between;align-items:flex-start}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:15px}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:none;border:1px solid #d1d5db;border-radius:6px;padding:8px 12px;cursor:pointer;color:#6b7280;transition:all .2s}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .task-title-section[_ngcontent-%COMP%]   .task-meta[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:8px}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .task-title-section[_ngcontent-%COMP%]   .task-meta[_ngcontent-%COMP%]   .task-id[_ngcontent-%COMP%]{font-weight:600;color:#3b82f6;font-size:14px}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .task-title-section[_ngcontent-%COMP%]   .task-meta[_ngcontent-%COMP%]   .task-project[_ngcontent-%COMP%]{color:#6b7280;font-size:14px}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .task-title-section[_ngcontent-%COMP%]   .task-title[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#1f2937;line-height:1.2}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .task-title-section[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{font-size:24px;font-weight:600;border:2px solid #3b82f6;border-radius:4px;padding:8px 12px;width:500px;background:#fff}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .task-title-section[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:6px}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#e5e7eb}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]{background:#10b981;color:#fff}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]:hover:not(:disabled){background:#059669}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 300px;gap:30px;padding:30px;max-width:1400px;margin:0 auto}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:24px;margin-bottom:20px;border:1px solid #e1e4e8}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#1f2937}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:4px;border-radius:4px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]{color:#374151;line-height:1.6}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .description-content[_ngcontent-%COMP%]   .no-description[_ngcontent-%COMP%]{color:#9ca3af;font-style:italic}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .description-input[_ngcontent-%COMP%]{width:100%;border:1px solid #d1d5db;border-radius:6px;padding:12px;font-family:inherit;resize:vertical}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .description-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]{margin-bottom:20px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-weight:500;color:#374151;margin-bottom:6px;font-size:14px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ef4444}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid #d1d5db;border-radius:4px;position:relative}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;left:5px;top:2px;width:6px;height:10px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg);opacity:0}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{opacity:1}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   .radio-mark[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid #d1d5db;border-radius:50%;position:relative}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   .radio-mark[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:8px;height:8px;border-radius:50%;background:#3b82f6;opacity:0}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .radio-mark[_ngcontent-%COMP%]{border-color:#3b82f6}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .custom-fields[_ngcontent-%COMP%]   .field-row[_ngcontent-%COMP%]   .field-control[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .radio-mark[_ngcontent-%COMP%]:after{opacity:1}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]{margin-bottom:24px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-group[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]{width:100%;border:1px solid #d1d5db;border-radius:6px;padding:12px;font-family:inherit;resize:vertical}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-group[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{align-self:flex-end;background:#3b82f6;color:#fff;border:none;padding:8px 16px;border-radius:6px;font-size:14px;cursor:pointer;display:flex;align-items:center;gap:6px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-group[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]{flex-shrink:0;width:32px;height:32px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]   .marker-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:14px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]   .marker-icon.comment[_ngcontent-%COMP%]{background:#3b82f6}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]   .marker-icon.status_change[_ngcontent-%COMP%]{background:#f59e0b}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-marker[_ngcontent-%COMP%]   .marker-icon.assignment[_ngcontent-%COMP%]{background:#10b981}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{flex:1}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px;font-size:14px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]   .activity-action[_ngcontent-%COMP%]{color:#6b7280}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]   .activity-time[_ngcontent-%COMP%]{color:#9ca3af;margin-left:auto}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .activity-body[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;border-radius:6px;padding:12px;color:#374151;line-height:1.5}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .activity-body[_ngcontent-%COMP%]   .status-change[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .activity-body[_ngcontent-%COMP%]   .status-change[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:4px 8px;border-radius:4px;color:#fff;font-size:12px;font-weight:500}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .activity-timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]   .activity-body[_ngcontent-%COMP%]   .status-change[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{color:#6b7280}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:20px;margin-bottom:20px;border:1px solid #e1e4e8}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:14px;font-weight:600;color:#1f2937;text-transform:uppercase;letter-spacing:.5px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .status-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .status-selector[_ngcontent-%COMP%]   .status-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:none;border:1px solid #e5e7eb;border-radius:6px;cursor:pointer;transition:all .2s;font-size:14px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .status-selector[_ngcontent-%COMP%]   .status-btn[_ngcontent-%COMP%]:hover{background:#f9fafb}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .status-selector[_ngcontent-%COMP%]   .status-btn.active[_ngcontent-%COMP%]{background:#eff6ff;border-color:#3b82f6;color:#1d4ed8}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .quick-fields[_ngcontent-%COMP%]   .quick-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f3f4f6;font-size:14px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .quick-fields[_ngcontent-%COMP%]   .quick-field[_ngcontent-%COMP%]:last-child{border-bottom:none}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .quick-fields[_ngcontent-%COMP%]   .quick-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b7280;font-weight:500}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .quick-fields[_ngcontent-%COMP%]   .quick-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1f2937}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:none;border:1px solid #e5e7eb;border-radius:6px;cursor:pointer;transition:all .2s;font-size:14px;color:#374151}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#f9fafb}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .priority-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .priority-badge.priority-high[_ngcontent-%COMP%]{color:#ef4444;font-weight:600}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .priority-badge.priority-medium[_ngcontent-%COMP%]{color:#f59e0b;font-weight:500}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .priority-badge.priority-low[_ngcontent-%COMP%]{color:#10b981;font-weight:500}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .story-points-badge[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;padding:2px 8px;border-radius:12px;font-size:12px;font-weight:600}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .labels-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .labels-container[_ngcontent-%COMP%]   .label-badge[_ngcontent-%COMP%]{background:#e5e7eb;color:#374151;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .watchers-container[_ngcontent-%COMP%]   .watcher-item[_ngcontent-%COMP%]{padding:4px 0;font-size:14px;color:#6b7280}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .watchers-container[_ngcontent-%COMP%]   .watcher-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #f3f4f6}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px}.loading-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#6b7280;margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:18px}.error-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:16px;border-radius:8px;margin-bottom:20px}.error-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border:none;padding:12px 24px;border-radius:6px;font-size:16px;cursor:pointer;display:flex;align-items:center;gap:8px}.error-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb}@media (max-width: 768px){.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.task-detail-container[_ngcontent-%COMP%]   .task-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .task-title-section[_ngcontent-%COMP%]   .edit-title[_ngcontent-%COMP%]   .title-input[_ngcontent-%COMP%]{width:100%}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:20px}.task-detail-container[_ngcontent-%COMP%]   .task-content[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{order:-1}}']})};export{Ct as TaskDetailComponent};
