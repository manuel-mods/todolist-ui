import{a as V}from"./chunk-P2AP2LDR.js";import{b as h,c as v,d as y,e as M,g as F,i as N,j as k,k as x,l as I,m as T,o as w,p as A,q as G}from"./chunk-B6CTW34R.js";import{a as B}from"./chunk-TB2JPHKQ.js";import{r as P}from"./chunk-UEBHN7X3.js";import{Cb as t,Db as e,Dc as E,Eb as p,Gb as u,Ha as j,Ic as _,Qb as o,R as b,Sb as D,cb as a,d as C,ma as d,mb as g,qb as f,xb as c,zb as S}from"./chunk-HT5E4KE5.js";function R(l,m){l&1&&(t(0,"div",30),o(1," Project name is required "),e())}function O(l,m){l&1&&p(0,"span",31)}var q=class l{activeModal=d(V);fb=d(w);projectService=d(B);authService=d(P);loading=j(!1);projectForm=this.fb.group({name:["",[v.required,v.minLength(1)]],description:[""],color:["#007bff"],icon:[""]});onSubmit(){return C(this,null,function*(){if(this.projectForm.invalid)return;let m=yield this.authService.currentUser$.pipe(b(1)).toPromise();if(m){this.loading.set(!0);try{let i=this.projectForm.value,n={name:i.name.trim(),description:i.description?.trim()||void 0,color:i.color||void 0,icon:i.icon||void 0,userId:m.id},r=yield this.projectService.createProject(n).toPromise();this.activeModal.close(r)}catch(i){console.error("Error creating project:",i)}finally{this.loading.set(!1)}}})}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=g({type:l,selectors:[["app-create-project-modal-content"]],decls:50,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"mb-3"],["for","name",1,"form-label"],["id","name","type","text","formControlName","name","placeholder","Enter project name",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","3","placeholder","Enter project description (optional)",1,"form-control"],[1,"row"],[1,"col-md-6"],["for","color",1,"form-label"],["id","color","type","color","formControlName","color","title","Choose project color",1,"form-control","form-control-color"],["for","icon",1,"form-label"],["id","icon","formControlName","icon",1,"form-select"],["value",""],["value","fas fa-folder"],["value","fas fa-project-diagram"],["value","fas fa-code"],["value","fas fa-bug"],["value","fas fa-rocket"],["value","fas fa-lightbulb"],["value","fas fa-tasks"],["value","fas fa-users"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(i,n){if(i&1&&(t(0,"div",0)(1,"h4",1),o(2,"Create New Project"),e(),t(3,"button",2),u("click",function(){return n.activeModal.dismiss()}),e()(),t(4,"form",3),u("ngSubmit",function(){return n.onSubmit()}),t(5,"div",4)(6,"div",5)(7,"label",6),o(8,"Project Name *"),e(),p(9,"input",7),f(10,R,2,0,"div",8),e(),t(11,"div",5)(12,"label",9),o(13,"Description"),e(),p(14,"textarea",10),e(),t(15,"div",11)(16,"div",12)(17,"div",5)(18,"label",13),o(19,"Project Color"),e(),p(20,"input",14),e()(),t(21,"div",12)(22,"div",5)(23,"label",15),o(24,"Icon"),e(),t(25,"select",16)(26,"option",17),o(27,"Select an icon"),e(),t(28,"option",18),o(29,"\u{1F4C1} Folder"),e(),t(30,"option",19),o(31,"\u{1F4CA} Project"),e(),t(32,"option",20),o(33,"\u{1F4BB} Code"),e(),t(34,"option",21),o(35,"\u{1F41B} Bug"),e(),t(36,"option",22),o(37,"\u{1F680} Rocket"),e(),t(38,"option",23),o(39,"\u{1F4A1} Idea"),e(),t(40,"option",24),o(41,"\u2705 Tasks"),e(),t(42,"option",25),o(43,"\u{1F465} Team"),e()()()()()(),t(44,"div",26)(45,"button",27),u("click",function(){return n.activeModal.dismiss()}),o(46," Cancel "),e(),t(47,"button",28),f(48,O,1,0,"span",29),o(49),e()()()),i&2){let r,s;a(4),c("formGroup",n.projectForm),a(5),S("is-invalid",((r=n.projectForm.get("name"))==null?null:r.invalid)&&((r=n.projectForm.get("name"))==null?null:r.touched)),a(),c("ngIf",((s=n.projectForm.get("name"))==null?null:s.invalid)&&((s=n.projectForm.get("name"))==null?null:s.touched)),a(35),c("disabled",n.loading()),a(2),c("disabled",n.projectForm.invalid||n.loading()),a(),c("ngIf",n.loading()),a(),D(" ",n.loading()?"Creating...":"Create Project"," ")}},dependencies:[_,E,A,F,I,T,h,x,y,M,G,N,k],encapsulation:2})};export{q as a};
