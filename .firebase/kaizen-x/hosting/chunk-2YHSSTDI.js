import{b as S,c as d,d as E,e as L,g as I,i as k,j as T,o as N,q}from"./chunk-B6CTW34R.js";import{h as w,i as F,r as y}from"./chunk-UEBHN7X3.js";import{Cb as e,Db as o,Dc as x,Eb as u,Gb as O,Ha as f,Hb as M,Ic as b,Qb as i,Sb as v,cb as a,ma as C,mb as h,qb as m,xb as c,zb as P}from"./chunk-HT5E4KE5.js";function D(t,l){t&1&&(e(0,"small"),i(1,"El correo electr\xF3nico es requerido"),o())}function G(t,l){t&1&&(e(0,"small"),i(1,"Por favor ingresa un correo v\xE1lido"),o())}function V(t,l){if(t&1&&(e(0,"div",23),m(1,D,2,0,"small",20)(2,G,2,0,"small",20),o()),t&2){let r,n,g=M();a(),c("ngIf",(r=g.loginForm.get("email"))==null||r.errors==null?null:r.errors.required),a(),c("ngIf",(n=g.loginForm.get("email"))==null||n.errors==null?null:n.errors.email)}}function B(t,l){t&1&&(e(0,"small"),i(1,"La contrase\xF1a es requerida"),o())}function R(t,l){t&1&&(e(0,"small"),i(1,"La contrase\xF1a debe tener al menos 6 caracteres"),o())}function Y(t,l){if(t&1&&(e(0,"div",23),m(1,B,2,0,"small",20)(2,R,2,0,"small",20),o()),t&2){let r,n,g=M();a(),c("ngIf",(r=g.loginForm.get("password"))==null||r.errors==null?null:r.errors.required),a(),c("ngIf",(n=g.loginForm.get("password"))==null||n.errors==null?null:n.errors.minlength)}}function j(t,l){if(t&1&&(e(0,"div",24),i(1),o()),t&2){let r=M();a(),v(" ",r.error()," ")}}function A(t,l){t&1&&(e(0,"span"),i(1,"Iniciar Sesi\xF3n"),o())}function H(t,l){t&1&&(e(0,"span"),u(1,"i",25),i(2," Iniciando sesi\xF3n... "),o())}var z=class t{fb=C(N);authService=C(y);router=C(w);loginForm;loading=f(!1);error=f(null);showPassword=f(!1);constructor(){this.loginForm=this.fb.group({email:["",[d.required,d.email]],password:["",[d.required,d.minLength(6)]]})}onSubmit(){if(this.loginForm.invalid)return;this.loading.set(!0),this.error.set(null);let{email:l,password:r}=this.loginForm.value;this.authService.login(l,r).subscribe({next:()=>{this.loading.set(!1)},error:n=>{this.error.set(n.message||"Login failed"),this.loading.set(!1)}})}togglePasswordVisibility(){this.showPassword.update(l=>!l)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=h({type:t,selectors:[["app-login"]],decls:37,vars:16,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"fas","fa-check-circle","logo"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],[1,"input-group"],[1,"fas","fa-envelope"],["type","email","id","email","formControlName","email","placeholder","Ingresa tu correo electr\xF3nico",1,"form-control"],["class","error-message",4,"ngIf"],["for","password"],[1,"fas","fa-lock"],["id","password","formControlName","password","placeholder","Ingresa tu contrase\xF1a",1,"form-control",3,"type"],["type","button",1,"toggle-password",3,"click"],[1,"fas"],[1,"forgot-password"],["routerLink","/auth/forgot-password"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[1,"auth-footer"],["routerLink","/auth/register"],[1,"error-message"],[1,"alert","alert-danger"],[1,"fas","fa-spinner","fa-spin"]],template:function(r,n){if(r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),u(3,"i",3),e(4,"h1"),i(5,"Bienvenido de Vuelta"),o(),e(6,"p"),i(7,"Inicia sesi\xF3n en tu cuenta de TodoList"),o()(),e(8,"form",4),O("ngSubmit",function(){return n.onSubmit()}),e(9,"div",5)(10,"label",6),i(11,"Correo Electr\xF3nico"),o(),e(12,"div",7),u(13,"i",8)(14,"input",9),o(),m(15,V,3,2,"div",10),o(),e(16,"div",5)(17,"label",11),i(18,"Contrase\xF1a"),o(),e(19,"div",7),u(20,"i",12)(21,"input",13),e(22,"button",14),O("click",function(){return n.togglePasswordVisibility()}),u(23,"i",15),o()(),m(24,Y,3,2,"div",10),o(),e(25,"div",16)(26,"a",17),i(27,"\xBFOlvidaste tu contrase\xF1a?"),o()(),m(28,j,2,1,"div",18),e(29,"button",19),m(30,A,2,0,"span",20)(31,H,3,0,"span",20),o()(),e(32,"div",21)(33,"p"),i(34,"\xBFNo tienes una cuenta? "),e(35,"a",22),i(36,"Reg\xEDstrate"),o()()()()()),r&2){let g,s,p,_;a(8),c("formGroup",n.loginForm),a(6),P("is-invalid",((g=n.loginForm.get("email"))==null?null:g.invalid)&&((g=n.loginForm.get("email"))==null?null:g.touched)),a(),c("ngIf",((s=n.loginForm.get("email"))==null?null:s.invalid)&&((s=n.loginForm.get("email"))==null?null:s.touched)),a(6),P("is-invalid",((p=n.loginForm.get("password"))==null?null:p.invalid)&&((p=n.loginForm.get("password"))==null?null:p.touched)),c("type",n.showPassword()?"text":"password"),a(2),P("fa-eye",!n.showPassword())("fa-eye-slash",n.showPassword()),a(),c("ngIf",((_=n.loginForm.get("password"))==null?null:_.invalid)&&((_=n.loginForm.get("password"))==null?null:_.touched)),a(4),c("ngIf",n.error()),a(),c("disabled",n.loginForm.invalid||n.loading()),a(),c("ngIf",!n.loading()),a(),c("ngIf",n.loading())}},dependencies:[b,x,q,I,S,E,L,k,T,F],styles:[".auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 15px 35px #0000001a;width:100%;max-width:400px;padding:40px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:48px;color:#667eea;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;color:#2c3e50;font-size:28px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:25px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#2c3e50;font-weight:500}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{position:relative}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#7f8c8d}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:12px 15px 12px 45px;border:1px solid #ddd;border-radius:8px;font-size:16px;transition:all .3s}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#e74c3c}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]{position:absolute;right:15px;top:50%;transform:translateY(-50%);background:none;border:none;color:#7f8c8d;cursor:pointer;padding:5px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .toggle-password[_ngcontent-%COMP%]:hover{color:#2c3e50}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin-top:5px;color:#e74c3c;font-size:14px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{text-align:right;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-size:14px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:12px 15px;border-radius:8px;margin-bottom:20px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{background-color:#fee;color:#c33;border:1px solid #fcc}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:12px 20px;border:none;border-radius:8px;font-size:16px;font-weight:500;cursor:pointer;transition:all .3s}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 5px 15px #667eea66}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:30px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{z as LoginComponent};
