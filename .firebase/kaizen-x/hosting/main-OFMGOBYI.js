import{b as _}from"./chunk-I2DX2XPR.js";import{a as I,c as y,d as k,g as D,h as F,k as T,m as S,n as w,o as R,p as P,q as a,r as i}from"./chunk-UEBHN7X3.js";import{Bb as b,Cb as s,Db as p,Eb as l,Qb as j,R as C,aa as v,d,ic as x,ma as n,mb as g,qb as A,s as u,x as h,y as f}from"./chunk-HT5E4KE5.js";var L=(t,o)=>{let e=n(i),r=n(F);return e.isAuthenticated().pipe(C(1),f(c=>c?!0:(r.navigate(["/auth/login"],{queryParams:{returnUrl:o.url}}),!1)))};var M=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"auth",children:[{path:"login",loadComponent:()=>import("./chunk-2YHSSTDI.js").then(t=>t.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-7FXS2ZSB.js").then(t=>t.RegisterComponent)},{path:"forgot-password",loadComponent:()=>import("./chunk-UAFQ2TZR.js").then(t=>t.ForgotPasswordComponent)}]},{path:"",loadComponent:()=>import("./chunk-QKX7KNPI.js").then(t=>t.LayoutComponent),canActivate:[L],children:[{path:"dashboard",loadComponent:()=>import("./chunk-S65SKWT7.js").then(t=>t.DashboardComponent)},{path:"projects",loadComponent:()=>import("./chunk-HG24MJBM.js").then(t=>t.ProjectListComponent)},{path:"board",loadComponent:()=>import("./chunk-EMEPDADQ.js").then(t=>t.BoardComponent)},{path:"projects/:id",loadComponent:()=>import("./chunk-JZ5REMJM.js").then(t=>t.ProjectDetailComponent)},{path:"projects/:id/tasks/:taskId",loadComponent:()=>import("./chunk-JZ5REMJM.js").then(t=>t.ProjectDetailComponent)},{path:"projects/:id/documentation",loadComponent:()=>import("./chunk-JFKBGB6M.js").then(t=>t.DocumentationComponent)},{path:"tasks",loadComponent:()=>import("./chunk-DDH2F5WM.js").then(t=>t.TaskListComponent)},{path:"tasks/:id",loadComponent:()=>import("./chunk-QBIN7VAW.js").then(t=>t.TaskDetailComponent)},{path:"calendar",loadComponent:()=>import("./chunk-LIJJCNTQ.js").then(t=>t.CalendarComponent)},{path:"account",loadComponent:()=>import("./chunk-2PHGMP2Q.js").then(t=>t.AccountComponent)},{path:"settings",loadComponent:()=>import("./chunk-VZXMLDRQ.js").then(t=>t.SettingsComponent)}]}];var O=(t,o)=>{let e=n(i);return t.url.includes("/auth/")||!t.url.startsWith(a.apiUrl)?o(t):u(e.getIdToken()).pipe(v(r=>{if(r){let c=t.clone({setHeaders:{Authorization:`Bearer ${r}`}});return o(c)}return o(t)}))};var E={providers:[x({eventCoalescing:!0}),T(M),y(k([O])),S(()=>w(a.firebase)),R(()=>P()),_()]};function H(t,o){t&1&&(s(0,"div",0),l(1,"router-outlet"),p())}function z(t,o){t&1&&(s(0,"div",1)(1,"div",2)(2,"div"),j(3,"TodoList"),p(),l(4,"i",3),p()())}var m=class t{auth=n(i);init=!1;constructor(){}ngOnInit(){return d(this,null,function*(){try{yield h(this.auth.getIdTokenObservable())}catch(o){console.error("Error initializing Firebase auth:",o)}finally{this.init=!0}})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[[1,"containerx","px-0"],[1,"vh-100","d-flex","flex-column","justify-content-center","align-items-center","gap-3"],[1,"d-flex","gap-2","justify-content-center","align-items-center"],[1,"fa","fa-circle-notch","fa-spin","fa-2x","text-primary"]],template:function(e,r){e&1&&A(0,H,2,0,"div",0)(1,z,5,0,"div",1),e&2&&b(r.init?0:1)},dependencies:[D],encapsulation:2})};I(m,E).catch(t=>console.error(t));
