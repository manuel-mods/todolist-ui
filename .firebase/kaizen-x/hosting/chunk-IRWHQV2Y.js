import{b as Q}from"./chunk-WKW57PVX.js";import{a as H}from"./chunk-5IMW6SUT.js";import{r as q}from"./chunk-UEBHN7X3.js";import{$a as T,Ab as D,Ca as S,Cb as o,Cc as B,Db as s,Dc as R,Eb as p,Fb as x,Gb as v,Ha as C,Hb as c,Ic as L,Kb as V,Mb as z,Nb as j,Ob as U,Pb as $,Qb as d,Rb as O,Sb as M,Tb as N,cb as r,ga as I,ma as k,mb as E,qb as h,ua as g,va as f,xb as l,y as P,yb as F,zb as w}from"./chunk-HT5E4KE5.js";var y=class a{api=k(H);getTaskAttachments(e){return this.api.get(`/tasks/${e}/attachments`).pipe(P(t=>t.attachments))}uploadAttachment(e){let t=new FormData;return t.append("file",e.file),e.description&&t.append("description",e.description),e.tags&&t.append("tags",e.tags),this.api.post(`/tasks/${e.taskId}/attachments`,t)}deleteAttachment(e){return this.api.delete(`/attachments/${e}`).pipe(P(()=>{}))}getAttachmentPreview(e){return this.api.get(`/attachments/${e}/preview`)}downloadAttachment(e){return this.api.get(`/attachments/${e}/download`).pipe(P(t=>t.downloadUrl))}getAttachmentThumbnail(e){return this.api.getBlob(`/attachments/${e}/thumbnail`)}uploadMultipleAttachments(e,t){let n=new FormData;return t.forEach((i,m)=>{n.append("files",i)}),this.api.post(`/tasks/${e}/attachments/bulk`,n)}updateAttachment(e,t){return this.api.put(`/attachments/${e}`,t).pipe(P(n=>n.attachment))}getAttachment(e){return this.api.get(`/attachments/${e}`).pipe(P(t=>t.attachment))}validateFile(e){let n=["image/jpeg","image/png","image/gif","image/svg+xml","image/webp","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","text/csv","application/json","text/html","text/css","application/javascript","application/zip","application/x-rar-compressed","application/x-7z-compressed","video/mp4","video/avi","video/quicktime","video/x-msvideo","audio/mpeg","audio/wav","audio/ogg"];return e.size>10485760?{valid:!1,error:"File size exceeds 10MB limit"}:!n.includes(e.type)&&e.type!==""?{valid:!1,error:"File type not supported"}:{valid:!0}}getFileIconClass(e){let t=e.split(".").pop()?.toLowerCase()||"";return{jpg:"fas fa-image text-primary",jpeg:"fas fa-image text-primary",png:"fas fa-image text-primary",gif:"fas fa-image text-primary",svg:"fas fa-image text-primary",webp:"fas fa-image text-primary",pdf:"fas fa-file-pdf text-danger",doc:"fas fa-file-word text-primary",docx:"fas fa-file-word text-primary",xls:"fas fa-file-excel text-success",xlsx:"fas fa-file-excel text-success",ppt:"fas fa-file-powerpoint text-warning",pptx:"fas fa-file-powerpoint text-warning",txt:"fas fa-file-alt text-muted",js:"fas fa-file-code text-warning",ts:"fas fa-file-code text-info",html:"fas fa-file-code text-danger",css:"fas fa-file-code text-primary",json:"fas fa-file-code text-success",zip:"fas fa-file-archive text-warning",rar:"fas fa-file-archive text-warning","7z":"fas fa-file-archive text-warning",mp4:"fas fa-file-video text-info",avi:"fas fa-file-video text-info",mov:"fas fa-file-video text-info",mp3:"fas fa-file-audio text-success",wav:"fas fa-file-audio text-success",ogg:"fas fa-file-audio text-success"}[t]||"fas fa-file text-muted"}static \u0275fac=function(t){return new(t||a)};static \u0275prov=I({token:a,factory:a.\u0275fac,providedIn:"root"})};var K=["fileInput"];function W(a,e){a&1&&p(0,"span",17)}function X(a,e){a&1&&p(0,"i",18)}function Y(a,e){if(a&1){let t=x();o(0,"div",12)(1,"input",13,0),v("change",function(i){g(t);let m=c();return f(m.onFileSelected(i))}),s(),o(3,"button",14),v("click",function(){g(t);let i=$(2);return f(i.click())}),h(4,W,1,0,"span",15)(5,X,1,0,"i",16),d(6),s()()}if(a&2){let t=c();r(),l("accept",t.acceptedFileTypes),r(2),l("disabled",t.uploading()),r(),l("ngIf",t.uploading()),r(),l("ngIf",!t.uploading()),r(),M(" ",t.uploading()?"Uploading...":"Add Files"," ")}}function Z(a,e){if(a&1&&(o(0,"span",30),p(1,"i",31),d(2," Error "),s()),a&2){let t=c().$implicit;V("title",t.error)}}function tt(a,e){a&1&&(o(0,"span",32),p(1,"i",33),d(2," Complete "),s())}function et(a,e){if(a&1&&(o(0,"div",21)(1,"div",22)(2,"span",23),d(3),s(),o(4,"span",24),d(5),s()(),o(6,"div",25),p(7,"div",26),s(),o(8,"div",27),h(9,Z,3,1,"span",28)(10,tt,3,0,"span",29),s()()),a&2){let t=e.$implicit;r(3),O(t.fileName),r(2),M("",t.progress,"%"),r(2),F("width",t.progress,"%"),w("progress-error",t.error)("progress-complete",t.complete),r(2),l("ngIf",t.error),r(),l("ngIf",t.complete&&!t.error)}}function nt(a,e){if(a&1&&(o(0,"div",19),h(1,et,11,10,"div",20),s()),a&2){let t=c();r(),l("ngForOf",t.uploadProgress())("ngForTrackBy",t.trackByProgressId)}}function at(a,e){if(a&1){let t=x();o(0,"div",34),v("dragover",function(i){g(t);let m=c();return f(m.onDragOver(i))})("dragleave",function(i){g(t);let m=c();return f(m.onDragLeave(i))})("drop",function(i){g(t);let m=c();return f(m.onDrop(i))}),o(1,"div",35),p(2,"i",36),o(3,"p",37),d(4,"Drag & drop files here"),s(),o(5,"small",38),d(6,'or click "Add Files" to browse'),s(),o(7,"div",39)(8,"small",38),d(9," Supported: Images, Documents, Videos, Audio, Archives (Max 10MB) "),s()()()()}if(a&2){let t=c();w("drag-active",t.isDragActive())}}function it(a,e){if(a&1){let t=x();o(0,"div",55)(1,"img",56),v("error",function(i){g(t);let m=c(3);return f(m.onImageError(i))}),s()()}if(a&2){let t=c().$implicit;r(),l("src",t.thumbnailUrl||t.firebaseUrl,T)("alt",t.originalName)}}function rt(a,e){if(a&1&&(o(0,"div",57),p(1,"i"),s()),a&2){let t=c().$implicit,n=c(2);r(),D(n.getFileIcon(t.fileName))}}function ot(a,e){if(a&1){let t=x();o(0,"button",58),v("click",function(){g(t);let i=c().$implicit,m=c(2);return f(m.openPreview(i))}),p(1,"i",59),s()}}function st(a,e){a&1&&p(0,"span",63)}function ct(a,e){a&1&&p(0,"i",64)}function lt(a,e){if(a&1){let t=x();o(0,"button",60),v("click",function(){g(t);let i=c().$implicit,m=c(2);return f(m.deleteAttachment(i))}),h(1,st,1,0,"span",61)(2,ct,1,0,"i",62),s()}if(a&2){let t=c().$implicit,n=c(2);l("disabled",n.deleting()===t.id),r(),l("ngIf",n.deleting()===t.id),r(),l("ngIf",n.deleting()!==t.id)}}function mt(a,e){if(a&1){let t=x();o(0,"div",42),h(1,it,2,2,"div",43)(2,rt,2,2,"div",44),o(3,"div",45)(4,"div",46),d(5),s(),o(6,"div",47)(7,"span",48),d(8),s(),o(9,"span",49),d(10),s()()(),o(11,"div",50)(12,"button",51),v("click",function(){let i=g(t).$implicit,m=c(2);return f(m.downloadAttachment(i))}),p(13,"i",52),s(),h(14,ot,2,0,"button",53)(15,lt,3,3,"button",54),s()()}if(a&2){let t=e.$implicit,n=c(2);w("image-attachment",n.isImageFile(t.fileName)),r(),l("ngIf",n.isImageFile(t.fileName)),r(),l("ngIf",!n.isImageFile(t.fileName)),r(3),O(t.originalName),r(3),O(n.formatFileSize(t.fileSize)),r(2),N(" Uploaded by ",t.uploadedBy||"Unknown"," on ",n.formatDate(t.createdAt)," "),r(4),l("ngIf",n.canPreview(t)),r(),l("ngIf",n.canDelete(t))}}function pt(a,e){if(a&1&&(o(0,"div",40),h(1,mt,16,10,"div",41),s()),a&2){let t=c();r(),l("ngForOf",t.attachments())("ngForTrackBy",t.trackByAttachmentId)}}function dt(a,e){a&1&&(o(0,"div",65),p(1,"div",66),d(2," Loading attachments... "),s())}function gt(a,e){if(a&1&&(o(0,"div",67),p(1,"i",68),d(2),s()),a&2){let t=c();r(2),M("",t.error()," ")}}function ft(a,e){if(a&1&&p(0,"img",75),a&2){let t,n,i=c(2);l("src",(t=i.currentPreview())==null?null:t.firebaseUrl,T)("alt",(n=i.currentPreview())==null?null:n.originalName)}}function _t(a,e){if(a&1){let t=x();o(0,"div",69),v("click",function(){g(t);let i=c();return f(i.closePreview())}),o(1,"div",70),v("click",function(i){return g(t),f(i.stopPropagation())}),o(2,"div",71)(3,"h5"),d(4),s(),o(5,"button",72),v("click",function(){g(t);let i=c();return f(i.closePreview())}),s()(),o(6,"div",73),h(7,ft,1,2,"img",74),s()()()}if(a&2){let t,n,i=c();r(4),O((t=i.currentPreview())==null?null:t.originalName),r(3),l("ngIf",i.isImageFile(((n=i.currentPreview())==null?null:n.fileName)||""))}}var G=class a{fileInput;taskId;readonly=!1;attachmentsChanged=new S;attachmentService=k(y);authService=k(q);attachments=C([]);loading=C(!1);uploading=C(!1);deleting=C(null);error=C(null);isDragActive=C(!1);uploadProgress=C([]);currentPreview=C(null);acceptedFileTypes=".jpg,.jpeg,.png,.gif,.svg,.webp,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar,.7z,.mp4,.avi,.mov,.mp3,.wav,.ogg";ngOnInit(){this.taskId&&this.loadAttachments()}loadAttachments(){this.taskId&&(this.loading.set(!0),this.error.set(null),this.attachmentService.getTaskAttachments(this.taskId).subscribe({next:e=>{this.attachments.set(e),this.attachmentsChanged.emit(e),this.loading.set(!1)},error:e=>{console.error("Error loading attachments:",e),this.error.set("Failed to load attachments"),this.loading.set(!1)}}))}onFileSelected(e){let t=e.target;t.files&&t.files.length>0&&(this.uploadFiles(Array.from(t.files)),t.value="")}onDragOver(e){e.preventDefault(),this.isDragActive.set(!0)}onDragLeave(e){e.preventDefault(),this.isDragActive.set(!1)}onDrop(e){e.preventDefault(),this.isDragActive.set(!1),e.dataTransfer?.files&&this.uploadFiles(Array.from(e.dataTransfer.files))}uploadFiles(e){if(!this.taskId||e.length===0)return;this.uploading.set(!0),this.error.set(null);let t=e.map(_=>({id:this.generateId(),fileName:_.name,progress:0,complete:!1,error:void 0}));this.uploadProgress.set(t);let n=[],i=[];if(e.forEach((_,A)=>{let u=this.attachmentService.validateFile(_);u.valid?n.push(_):(i.push(`${_.name}: ${u.error}`),t[A].error=u.error,t[A].progress=100)}),i.length>0&&this.error.set(`Some files could not be uploaded: ${i.join(", ")}`),n.length===0){this.uploading.set(!1);return}let m=n.map((_,A)=>{let u=t.find(b=>b.fileName===_.name);return this.attachmentService.uploadAttachment({taskId:this.taskId,file:_}).toPromise().then(b=>(u&&(u.progress=100,u.complete=!0),b),b=>{throw u&&(u.error="Upload failed",u.progress=100),b})});Promise.all(m).then(_=>{setTimeout(()=>{this.uploadProgress.set([])},2e3),this.loadAttachments(),this.uploading.set(!1)},_=>{console.error("Upload error:",_),this.uploading.set(!1)})}downloadAttachment(e){this.attachmentService.downloadAttachment(e.id).subscribe({next:t=>{let n=document.createElement("a");n.href=t,n.download=e.originalName,n.target="_blank",n.click()},error:t=>{console.error("Download error:",t),this.error.set("Failed to download file")}})}deleteAttachment(e){confirm(`Are you sure you want to delete "${e.originalName}"?`)&&(this.deleting.set(e.id),this.error.set(null),this.attachmentService.deleteAttachment(e.id).subscribe({next:()=>{this.loadAttachments(),this.deleting.set(null)},error:t=>{console.error("Delete error:",t),this.error.set("Failed to delete attachment"),this.deleting.set(null)}}))}openPreview(e){this.canPreview(e)&&this.currentPreview.set(e)}closePreview(){this.currentPreview.set(null)}canPreview(e){return this.isImageFile(e.fileName)}canDelete(e){return this.readonly?!1:this.authService.getCurrentUser()?.id===e.uploadedBy||this.hasAdminRights()}hasAdminRights(){return!0}isImageFile(e){let t=["jpg","jpeg","png","gif","svg","webp","bmp"],n=e.split(".").pop()?.toLowerCase()||"";return t.includes(n)}getFileIcon(e){return this.attachmentService.getFileIconClass(e)}formatFileSize(e){return Q(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}onImageError(e){let t=e.target;t.style.display="none"}generateId(){return Math.random().toString(36).substr(2,9)}trackByAttachmentId(e,t){return t.id}trackByProgressId(e,t){return t.id}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=E({type:a,selectors:[["app-task-attachments"]],viewQuery:function(t,n){if(t&1&&z(K,5),t&2){let i;j(i=U())&&(n.fileInput=i.first)}},inputs:{taskId:"taskId",readonly:"readonly"},outputs:{attachmentsChanged:"attachmentsChanged"},decls:12,vars:8,consts:[["fileInput",""],[1,"task-attachments"],[1,"attachments-header"],[1,"mb-0"],[1,"fas","fa-paperclip","me-2"],["class","header-actions",4,"ngIf"],["class","upload-progress",4,"ngIf"],["class","drop-area",3,"drag-active","dragover","dragleave","drop",4,"ngIf"],["class","attachments-list",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","alert alert-danger alert-sm","role","alert",4,"ngIf"],["class","preview-modal",3,"click",4,"ngIf"],[1,"header-actions"],["type","file","multiple","",1,"d-none",3,"change","accept"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["class","fas fa-plus me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"fas","fa-plus","me-1"],[1,"upload-progress"],["class","progress-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"progress-item"],[1,"progress-info"],[1,"file-name"],[1,"progress-text"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress-status"],["class","status-text",3,"title",4,"ngIf"],["class","status-text",4,"ngIf"],[1,"status-text",3,"title"],[1,"fas","fa-exclamation-triangle","text-danger"],[1,"status-text"],[1,"fas","fa-check","text-success"],[1,"drop-area",3,"dragover","dragleave","drop"],[1,"drop-content"],[1,"fas","fa-cloud-upload-alt","fa-3x","text-muted","mb-3"],[1,"text-muted","mb-2"],[1,"text-muted"],[1,"file-info","mt-2"],[1,"attachments-list"],["class","attachment-item",3,"image-attachment",4,"ngFor","ngForOf","ngForTrackBy"],[1,"attachment-item"],["class","attachment-preview",4,"ngIf"],["class","attachment-icon",4,"ngIf"],[1,"attachment-info"],[1,"attachment-name"],[1,"attachment-meta"],[1,"file-size"],[1,"upload-info"],[1,"attachment-actions"],["type","button","title","Download",1,"btn","btn-link","btn-sm","p-1",3,"click"],[1,"fas","fa-download"],["type","button","class","btn btn-link btn-sm p-1","title","Preview",3,"click",4,"ngIf"],["type","button","class","btn btn-link btn-sm p-1 text-danger","title","Delete",3,"disabled","click",4,"ngIf"],[1,"attachment-preview"],[1,"preview-image",3,"error","src","alt"],[1,"attachment-icon"],["type","button","title","Preview",1,"btn","btn-link","btn-sm","p-1",3,"click"],[1,"fas","fa-eye"],["type","button","title","Delete",1,"btn","btn-link","btn-sm","p-1","text-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm",4,"ngIf"],["class","fas fa-trash",4,"ngIf"],[1,"spinner-border","spinner-border-sm"],[1,"fas","fa-trash"],[1,"loading-state"],[1,"spinner-border","spinner-border-sm","me-2"],["role","alert",1,"alert","alert-danger","alert-sm"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"preview-modal",3,"click"],[1,"preview-content",3,"click"],[1,"preview-header"],["type","button",1,"btn-close",3,"click"],[1,"preview-body"],["class","preview-image-full",3,"src","alt",4,"ngIf"],[1,"preview-image-full",3,"src","alt"]],template:function(t,n){t&1&&(o(0,"div",1)(1,"div",2)(2,"h6",3),p(3,"i",4),d(4),s(),h(5,Y,7,5,"div",5),s(),h(6,nt,2,2,"div",6)(7,at,10,2,"div",7)(8,pt,2,2,"div",8)(9,dt,3,0,"div",9)(10,gt,3,1,"div",10)(11,_t,8,2,"div",11),s()),t&2&&(r(4),M(" Attachments (",n.attachments().length,") "),r(),l("ngIf",!n.readonly),r(),l("ngIf",n.uploadProgress().length>0),r(),l("ngIf",!n.readonly&&n.attachments().length===0&&!n.uploading()),r(),l("ngIf",n.attachments().length>0),r(),l("ngIf",n.loading()),r(),l("ngIf",n.error()),r(),l("ngIf",n.currentPreview()))},dependencies:[L,B,R],styles:[".task-attachments[_ngcontent-%COMP%]   .attachments-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--gray-200)}.task-attachments[_ngcontent-%COMP%]   .attachments-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:var(--gray-900);font-weight:600;display:flex;align-items:center}.task-attachments[_ngcontent-%COMP%]   .attachments-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-500)}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]{margin-bottom:1rem}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]{background:var(--gray-50);border:1px solid var(--gray-200);border-radius:var(--radius-md);padding:.75rem;margin-bottom:.5rem}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--gray-900);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1;margin-right:1rem}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-600);font-weight:500}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{height:4px;background:var(--gray-200);border-radius:2px;overflow:hidden;margin-bottom:.5rem}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background:var(--primary-500);transition:width .3s ease}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar.progress-error[_ngcontent-%COMP%]{background:var(--error-500)}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar.progress-complete[_ngcontent-%COMP%]{background:var(--success-500)}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-status[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.task-attachments[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-item[_ngcontent-%COMP%]   .progress-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:.75rem;display:flex;align-items:center;gap:.25rem}.task-attachments[_ngcontent-%COMP%]   .drop-area[_ngcontent-%COMP%]{border:2px dashed var(--gray-300);border-radius:var(--radius-lg);padding:2rem;text-align:center;transition:all .3s ease;cursor:pointer}.task-attachments[_ngcontent-%COMP%]   .drop-area[_ngcontent-%COMP%]:hover, .task-attachments[_ngcontent-%COMP%]   .drop-area.drag-active[_ngcontent-%COMP%]{border-color:var(--primary-400);background:var(--primary-25)}.task-attachments[_ngcontent-%COMP%]   .drop-area[_ngcontent-%COMP%]   .drop-content[_ngcontent-%COMP%]   .file-info[_ngcontent-%COMP%]{margin-top:.5rem;padding-top:.5rem;border-top:1px solid var(--gray-200)}.task-attachments[_ngcontent-%COMP%]   .attachments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:#fff;border:1px solid var(--gray-200);border-radius:var(--radius-md);transition:all .2s ease}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]:hover{background:var(--gray-25);border-color:var(--gray-300)}.task-attachments[_ngcontent-%COMP%]   .attachment-item.image-attachment[_ngcontent-%COMP%]   .attachment-preview[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:cover;border-radius:var(--radius-md);border:1px solid var(--gray-200)}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-icon[_ngcontent-%COMP%]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--gray-100);border-radius:var(--radius-md);font-size:1.25rem;flex-shrink:0}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-info[_ngcontent-%COMP%]{flex:1;min-width:0}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-info[_ngcontent-%COMP%]   .attachment-name[_ngcontent-%COMP%]{font-weight:500;color:var(--gray-900);font-size:.875rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:.25rem}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-info[_ngcontent-%COMP%]   .attachment-meta[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-500)}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-info[_ngcontent-%COMP%]   .attachment-meta[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{font-weight:500;margin-right:.5rem}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-info[_ngcontent-%COMP%]   .attachment-meta[_ngcontent-%COMP%]   .upload-info[_ngcontent-%COMP%]{display:block;margin-top:.125rem}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;opacity:0;transition:opacity .2s ease}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:var(--gray-400);font-size:.875rem;padding:.25rem;border-radius:var(--radius-sm)}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{color:var(--primary-600);background:var(--primary-100)}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]   .btn-link.text-danger[_ngcontent-%COMP%]:hover{color:var(--error-600);background:var(--error-100)}.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]:hover   .attachment-actions[_ngcontent-%COMP%]{opacity:1}.task-attachments[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem;color:var(--gray-500);font-size:.875rem}.task-attachments[_ngcontent-%COMP%]   .alert-sm[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.875rem;margin-bottom:0}.task-attachments[_ngcontent-%COMP%]   .preview-modal[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:10000;padding:1rem}.task-attachments[_ngcontent-%COMP%]   .preview-modal[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{background:#fff;border-radius:var(--radius-lg);max-width:90vw;max-height:90vh;overflow:hidden}.task-attachments[_ngcontent-%COMP%]   .preview-modal[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;border-bottom:1px solid var(--gray-200)}.task-attachments[_ngcontent-%COMP%]   .preview-modal[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:600;color:var(--gray-900);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.task-attachments[_ngcontent-%COMP%]   .preview-modal[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;cursor:pointer;color:var(--gray-500)}.task-attachments[_ngcontent-%COMP%]   .preview-modal[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:var(--gray-900)}.task-attachments[_ngcontent-%COMP%]   .preview-modal[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-body[_ngcontent-%COMP%]{padding:1rem;text-align:center}.task-attachments[_ngcontent-%COMP%]   .preview-modal[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]   .preview-body[_ngcontent-%COMP%]   .preview-image-full[_ngcontent-%COMP%]{max-width:100%;max-height:70vh;object-fit:contain;border-radius:var(--radius-md)}@media (max-width: 768px){.task-attachments[_ngcontent-%COMP%]   .attachment-item[_ngcontent-%COMP%]   .attachment-actions[_ngcontent-%COMP%]{opacity:1}.task-attachments[_ngcontent-%COMP%]   .drop-area[_ngcontent-%COMP%]{padding:1.5rem 1rem}}"]})};export{G as a};
