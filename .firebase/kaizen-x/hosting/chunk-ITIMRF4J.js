import{a as k,b as w}from"./chunk-P2AP2LDR.js";import{Bc as _,Cb as c,Db as s,Dc as O,Eb as x,Gb as p,Ic as h,Qb as m,Rb as b,Sb as u,cb as a,ga as v,hb as y,j as g,ma as C,mb as I,qb as M,xb as l,yb as T}from"./chunk-HT5E4KE5.js";function P(i,o){i&1&&x(0,"span",9)}var d=class i{constructor(o){this.activeModal=o}title="Confirmar";message="";confirmText="Aceptar";cancelText="Cancelar";variant="primary";loading=!1;confirm(){this.loading||this.activeModal.close(!0)}cancel(){this.loading||this.activeModal.dismiss(!1)}getButtonClass(){return{primary:"btn-primary",danger:"btn-danger",warning:"btn-warning",success:"btn-success"}[this.variant]||"btn-primary"}static \u0275fac=function(t){return new(t||i)(y(k))};static \u0275cmp=I({type:i,selectors:[["app-confirm-modal"]],inputs:{title:"title",message:"message",confirmText:"confirmText",cancelText:"cancelText",variant:"variant",loading:"loading"},decls:13,vars:13,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click","disabled"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn",3,"click","ngClass","disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(t,e){t&1&&(c(0,"div",0)(1,"h5",1),m(2),s(),c(3,"button",2),p("click",function(){return e.cancel()}),s()(),c(4,"div",3)(5,"p",4),m(6),s()(),c(7,"div",5)(8,"button",6),p("click",function(){return e.cancel()}),m(9),s(),c(10,"button",7),p("click",function(){return e.confirm()}),M(11,P,1,0,"span",8),m(12),s()()),t&2&&(a(2),b(e.title),a(),T("opacity",e.loading?"0.3":"1")("cursor",e.loading?"not-allowed":"pointer"),l("disabled",e.loading),a(3),b(e.message),a(2),l("disabled",e.loading),a(),u(" ",e.cancelText," "),a(),l("ngClass",e.getButtonClass())("disabled",e.loading),a(),l("ngIf",e.loading),a(),u(" ",e.confirmText," "))},dependencies:[h,_,O],styles:[".modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal-footer[_ngcontent-%COMP%]{justify-content:center;gap:.5rem}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--bs-border-color)}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.btn-close[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:not-allowed;pointer-events:none}.btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}"]})};var N=class i{modalService=C(w);confirm(o){let t=typeof o=="string"?{message:o}:o,e=this.modalService.open(d,{centered:!0,size:"md",backdrop:"static",keyboard:!0});e.componentInstance.title=t.title||"Confirmar",e.componentInstance.message=t.message,e.componentInstance.confirmText=t.confirmText||"Aceptar",e.componentInstance.cancelText=t.cancelText||"Cancelar",e.componentInstance.variant=t.variant||"primary",e.componentInstance.loading=!1;let n=new g;return e.result.then(r=>{n.next(!0),n.complete()},r=>{n.next(!1),n.complete()}),n.asObservable()}confirmWithAction(o,t){let e=typeof o=="string"?{message:o}:o,n=this.modalService.open(d,{centered:!0,size:"md",backdrop:"static",keyboard:!1});n.componentInstance.title=e.title||"Confirmar",n.componentInstance.message=e.message,n.componentInstance.confirmText=e.confirmText||"Aceptar",n.componentInstance.cancelText=e.cancelText||"Cancelar",n.componentInstance.variant=e.variant||"primary",n.componentInstance.loading=!1;let r=new g,j=n.componentInstance.confirm.bind(n.componentInstance);return n.componentInstance.confirm=()=>{n.componentInstance.loading=!0,t().subscribe({next:f=>{n.componentInstance.loading=!1,setTimeout(()=>{n.close(),r.next(f),r.complete()},300)},error:f=>{n.componentInstance.loading=!1,r.error(f)}})},n.result.catch(()=>{r.next(null),r.complete()}),r.asObservable()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})};export{N as a};
